<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ù…ÙˆÙ‚Ø¹ÙŠ</title>
<style>/**************************************************************************
 * KORA NET - Fixed layout (no left empty-space / no horizontal overflow)
 * Integrated site styles + small additions (nav, pages, and fix for header)
 **************************************************************************/
:root {
  --bg-0: #0a0a0a; /* Ø£Ø³ÙˆØ¯ ØµØ§ÙÙŠ */
  --panel: linear-gradient(135deg, #141414, #0a0a0a);
  --card-grad: linear-gradient(135deg, #1a1a1a, #0f0f0f);

  --glass: rgba(255, 0, 0, 0.05);   /* Ù„Ù…Ø³Ø© Ø­Ù…Ø±Ø§Ø¡ Ø´ÙØ§ÙØ© */
  --glass-2: rgba(0, 255, 128, 0.07); /* Ù„Ù…Ø³Ø© Ø®Ø¶Ø±Ø§Ø¡ Ø´ÙØ§ÙØ© */

  --muted: #7a7a7a;  /* Ø±Ù…Ø§Ø¯ÙŠ ÙˆØ§Ø¶Ø­ */
  --muted-2: #4d4d4d;
  --text: #f2f2f2;   /* Ø£Ø¨ÙŠØ¶ Ù…Ø§Ø¦Ù„ Ù„Ù„Ø±Ù…Ø§Ø¯ÙŠ */

  --neon-1: #ff1a1a; /* Ø£Ø­Ù…Ø± Ù†ÙŠÙˆÙ† ğŸ”¥ */
  --neon-2: #00ffcc; /* Ø³Ù…Ø§ÙˆÙŠ Ù†ÙŠÙˆÙ† âš¡ */
  --yellow: #39ff14; /* Ø£Ø®Ø¶Ø± ÙˆØ­Ø´ÙŠ ğŸ */

  --radius: 12px;

  --shadow-lg: 0 18px 50px rgba(255, 26, 26, 0.3);
  --shadow-sm: 0 6px 18px rgba(0, 255, 204, 0.2);

  --glass-border: 1px solid rgba(255, 255, 255, 0.08);
  --chat-bg: linear-gradient(180deg, #141414, #0a0a0a);
}
.light body {
    background: var(--bg-0);
    color: var(--text);
}

/* ===== Prevent horizontal scroll (fix left empty space) ===== */
html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: var(--bg-0);
    color: var(--text);
    line-height: 1.35;
    padding: 14px 0;
}

a {
    color: inherit;
    text-decoration: none
}

img {
    display: block;
    max-width: 100%;
    height: auto
}

/* ===== Layout container (fixed so no overflow) ===== */
.wrap {
    width: 100%;
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 14px;
    box-sizing: border-box;
}

/* ===== Global header/navigation for site (New & Improved) ===== */
.site-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 14px;
    flex-wrap: wrap;
}

.site-header .left {
    display: flex;
    gap: 12px;
    align-items: center;
}

.site-nav {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
}

.nav-link {
    padding: 8px 12px;
    border-radius: 8px;
    background: transparent;
    color: var(--muted-2);
    font-weight: 800;
    cursor: pointer;
    border: var(--glass-border);
    outline: none;
    transition: transform 0.2s ease-in-out, background 0.2s ease-in-out, color 0.2s ease-in-out;
}

.nav-link.active {
    background: linear-gradient(90deg, #3b82f610, #60a5fa20);
    color: var(--text)
}

/* Animate on click */
.nav-link:active {
    transform: scale(0.98);
}

.chat-button {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 10030;
    background: linear-gradient(90deg, var(--neon-2), var(--neon-1));
    color: #1a1a2e;
    border: none;
    padding: 12px 14px;
    border-radius: 999px;
    font-weight: 900;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(255, 154, 139, 0.08);
    transition: transform 0.2s ease-in-out;
    outline: none;
}

/* ===== Topbar (original) - Also now more responsive ===== */
header.topbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 14px;
    flex-wrap: wrap;
}

.brand {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-shrink: 0
}

.brand .logo {
    width: 46px;
    height: 46px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(90deg, var(--neon-2), var(--neon-1));
    color: #1a1a2e;
    font-weight: 900;
    box-shadow: 0 6px 24px rgba(255, 107, 107, 0.06);
    flex-shrink: 0;
}

.brand .name {
    font-weight: 900;
    font-size: 18px;
    letter-spacing: .3px;
    background: linear-gradient(90deg, #ff6b6b, #c8c8e6 60%, #ff9a8b);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.brand .tagline {
    font-size: 12px;
    color: var(--muted-2);
    font-weight: 700
}

/* ===== Controls ===== */
.controls {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
    justify-content: flex-end;
}

.search {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--glass);
    border-radius: 999px;
    border: var(--glass-border);
    min-width: 0;
}

.search svg {
    flex-shrink: 0
}

.search input {
    background: transparent;
    border: none;
    outline: none;
    color: var(--text);
    font-weight: 700;
    width: 100%;
    min-width: 80px;
}

.select, .btn {
    padding: 8px 12px;
    border-radius: 10px;
    border: var(--glass-border);
    background: linear-gradient(180deg, #2b2b4d, #1f1f3a);
    color: var(--muted);
    font-weight: 800;
    cursor: pointer;
    white-space: nowrap;
    outline: none;
    transition: all 0.2s ease-in-out;
}

.toggles {
    display: flex;
    gap: 8px;
    align-items: center
}

.toggle-btn {
    padding: 8px 10px;
    border-radius: 999px;
    border: var(--glass-border);
    background: transparent;
    cursor: pointer;
    font-weight: 800;
    color: var(--muted);
    outline: none;
    transition: transform 0.2s ease-in-out;
}

.toggle-btn.active {
    background: linear-gradient(90deg, #3b82f620, #60a5fa20);
    color: #fff;
    box-shadow: 0 8px 26px rgba(59, 130, 246, 0.06)
}

/* Animate on click */
.btn:active, .toggle-btn:active, .action:active, .icon-btn:active {
    transform: scale(0.98);
}

/* ===== Main layout: avoid reserved left space ===== */
main {
    display: flex;
    gap: 16px;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
    box-sizing: border-box;
}

.main-left {
    flex: 1;
    min-width: 0
}

.main-right {
    width: 360px;
    max-width: 360px;
    min-width: 0;
    background: var(--panel);
    border-radius: 12px;
    padding: 12px;
    border: var(--glass-border);
    box-shadow: var(--shadow-sm);
    height: fit-content;
    flex-shrink: 0;
}

@media (max-width: 880px) {
    .main-right {
        display: none
    }
}

/* ===== Grid - always 3 columns (as requested) ===== */
.grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    align-items: start;
    width: 100%;
}

@media (max-width: 420px) {
    .grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 8px
    }
}

/* ===== Cards ===== */
.card {
    border-radius: 10px;
    overflow: hidden;
    background: var(--card-grad);
    border: none;
    display: flex;
    flex-direction: column;
    transition: transform .22s ease, box-shadow .22s ease;
    min-height: 280px;
    box-shadow: var(--shadow-sm);
    position: relative;
    min-width: 0;
    cursor: pointer;
}

.card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg)
}

/* Animate on click */
.card:active {
    transform: scale(0.98);
}

.card .head {
    position: relative;
    height: 140px; /* ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§ Ù„Ø¬Ø¹Ù„Ù‡ Ø£Ù‚Ø±Ø¨ Ù„Ù„ØµÙˆØ±Ø© */
    overflow: hidden;
    background: #252540;
    display: flex;
    align-items: center;
    justify-content: center
}

.thumb {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    filter: contrast(1.04) saturate(1.04)
}

.thumb-empty {
    width: 60px;
    height: 60px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--muted);
    font-weight: 900;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center
}

.badge {
    position: absolute;
    left: 8px;
    top: 8px;
    background: linear-gradient(90deg, #ff9a8b, #a6a6cc);
    color: #1a1a2e;
    font-weight: 900;
    padding: 6px 8px;
    border-radius: 8px;
    box-shadow: 0 8px 26px rgba(255, 154, 139, 0.06);
    font-size: .82rem
}

.rating {
    position: absolute;
    right: 8px;
    top: 8px;
    background: linear-gradient(90deg, #ffd54a, #ffb86b);
    color: #1a1a2e;
    font-weight: 900;
    padding: 6px 8px;
    border-radius: 8px;
    font-size: .82rem
}

.card-body {
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    flex: 1;
    min-width: 0
}

.name-ar {
    font-weight: 900;
    font-size: 1rem;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis
}

.name-en {
    font-weight: 700;
    font-size: .84rem;
    color: var(--muted-2);
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis
}

.meta {
    display: flex;
    gap: 6px;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 6px
}

.chip {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
    padding: 6px 10px;
    border-radius: 999px;
    font-weight: 800;
    color: var(--muted-2);
    border: var(--glass-border);
    font-size: .78rem;
    white-space: nowrap
}

.stats-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 6px;
    margin-top: 8px;
    text-align: center
}

.snum {
    color: var(--neon-1);
    font-weight: 900;
    font-size: 1rem
}

.slabel {
    color: var(--muted-2);
    font-weight: 700;
    font-size: .72rem
}

.card-footer {
    display: flex;
    gap: 8px;
    align-items: center;
    justify-content: center;
    margin-top: auto
}

.btn-small {
    background: var(--neon-2);
    border: none;
    padding: 8px 10px;
    border-radius: 8px;
    font-weight: 900;
    cursor: pointer;
    color: #1a1a2e;
    outline: none;
    transition: transform 0.2s ease-in-out;
}

.btn-small:active {
    transform: scale(0.95);
}

.link {
    background: transparent;
    border: var(--glass-border);
    padding: 8px 10px;
    border-radius: 8px;
    font-weight: 800;
    color: var(--muted-2);
    cursor: pointer;
    outline: none;
    transition: transform 0.2s ease-in-out;
}

.link:active {
    transform: scale(0.95);
}

/* ===== Right details ===== */
.right-inner {
    display: flex;
    flex-direction: column;
    gap: 10px
}

.photo {
    width: 120px;
    height: 120px;
    border-radius: 10px;
    overflow: hidden;
    flex-shrink: 0;
    border: var(--glass-border);
    background: #252540;
    display: flex;
    align-items: center;
    justify-content: center
}

.photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block
}

.photo-empty {
    width: 80px;
    height: 80px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--muted);
    font-weight: 900;
    font-size: 1.8rem;
    display: flex;
    align-items: center;
    justify-content: center
}

.big-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-top: 6px
}

.stat-card {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
    padding: 10px;
    border-radius: 8px;
    text-align: center;
    border: var(--glass-border)
}

.stat-card .num {
    font-weight: 900;
    font-size: 1.15rem;
    color: var(--neon-1)
}

.stat-card .lbl {
    color: var(--muted-2);
    font-weight: 800;
    margin-top: 6px
}

.awards {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
    padding: 8px;
    border-radius: 8px;
    border: var(--glass-border)
}

.bio {
    background: var(--glass);
    padding: 8px;
    border-radius: 8px;
    color: #dbe9ff
}

.action {
    padding: 8px 10px;
    border-radius: 8px;
    background: transparent;
    border: var(--glass-border);
    color: var(--muted-2);
    font-weight: 900;
    cursor: pointer;
    outline: none;
    transition: transform 0.2s ease-in-out;
}

.action:active {
    transform: scale(0.95);
}

/* ===== Overlay for mobile ===== */
.overlay {
    position: fixed;
    inset: 8px;
    z-index: 9999;
    display: none;
    background: linear-gradient(180deg, #1f1f3a, #1a1a2e);
    border-radius: 10px;
    padding: 12px;
    overflow: auto;
    border: var(--glass-border)
}

.overlay.show {
    display: flex;
    flex-direction: column
}

.overlay .close {
    align-self: flex-end;
    background: transparent;
    border: none;
    color: var(--muted-2);
    font-weight: 900;
    cursor: pointer;
    outline: none;
    transition: transform 0.2s ease-in-out;
}

.overlay .close:active {
    transform: scale(0.95);
}

/* ===== Stars ===== */
.stars {
    display: inline-flex;
    gap: 4px;
    align-items: center;
    font-weight: 900
}

.star {
    color: var(--yellow);
    filter: drop-shadow(0 3px 8px rgba(255, 213, 74, 0.09))
}

/* ===== Footer ===== */
footer {
    margin-top: 22px;
    text-align: center;
    color: var(--muted-2);
    font-weight: 700
}

/* small helpers */
.tiny {
    font-size: .85rem
}

.muted {
    color: var(--muted-2)
}

/***************** SITE-WIDE NAV & PAGES *****************/
.site-pages .page {
    display: none;
}

.site-pages .page.active {
    display: block;
}

.site-hero {
    background: linear-gradient(90deg, #1f1f3a, #2b2b4d);
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 14px;
    border: var(--glass-border);
    box-shadow: var(--shadow-sm);
}

.grid-compact {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

/* ===== ChatPlus (local AI Chat panel) ===== */
.chat-modal {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 10031;
    width: 360px;
    max-width: calc(100% - 40px);
    height: 520px;
    border-radius: 12px;
    overflow: hidden;
    background: var(--chat-bg);
    border: var(--glass-border);
    box-shadow: 0 30px 80px rgba(12, 12, 28, 0.7);
    display: flex;
    flex-direction: column;
}

.chat-modal.hidden {
    display: none;
}

.chat-header {
    padding: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgba(255, 255, 255, 0.02)
}

.chat-body {
    padding: 12px;
    flex: 1;
    overflow: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.chat-input-row {
    display: flex;
    gap: 8px;
    padding: 10px;
    border-top: 1px solid rgba(255, 255, 255, 0.02);
}

.chat-input-row input {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: none;
    outline: none;
    background: rgba(255, 255, 255, 0.03);
    color: var(--text);
    font-weight: 700
}

.chat-message {
    max-width: 85%;
    padding: 10px 12px;
    border-radius: 10px;
    font-weight: 700;
    line-height: 1.25
}

.chat-message.user {
    align-self: flex-end;
    background: linear-gradient(90deg, #ff6b6b, #a6a6cc);
    color: #1a1a2e
}

.chat-message.ai {
    align-self: flex-start;
    background: linear-gradient(90deg, #2b2b4d, #1f1f3a);
    color: var(--muted-2);
    border: var(--glass-border)
}

.chat-empty {
    color: var(--muted-2);
    text-align: center;
    padding: 18px 0
}

.icon-btn {
    background: transparent;
    border: none;
    color: var(--muted-2);
    font-weight: 900;
    cursor: pointer;
    outline: none;
    transition: transform 0.2s ease-in-out;
}

.icon-btn:active {
    transform: scale(0.95);
}

@media (max-width: 480px) {
    .chat-modal {
        left: 8px;
        right: 8px;
        width: auto;
        height: 60vh
    }

    .main-right {
        display: none
    }
}

/* KORA NET Styles */
@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

@keyframes shimmer {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

.site-name {
    position: relative;
    font-size: 1.5em; /* ØªÙ… ØªØµØºÙŠØ±Ù‡ */
    font-weight: 900;
    letter-spacing: 2px;
    margin: 0;
    background: linear-gradient(45deg, #ff9a8b, #ff6b6b, #ffd54a, #ffb86b, #ff6b6b);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
    text-shadow: 0 0 40px rgba(255, 107, 107, 0.6);
    animation: gradientShift 4s ease-in-out infinite;
    z-index: 1;
}

.site-name::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, .55) 15%, transparent 30%);
    left: -100%;
    mix-blend-mode: screen;
    animation: shimmer 2.8s ease-in-out infinite;
    pointer-events: none;
}
/* Ø´ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø²Ø±Ù‚ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù…Ù† Ø§Ù„ÙƒØ±ÙˆØª ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± */
* {
  -webkit-tap-highlight-color: transparent;
}

button,
.card {
  outline: none !important;
  -webkit-focus-ring-color: transparent;
}
@keyframes blueGlow {
    0% {
        text-shadow: 0 0 5px #3b82f6, 0 0 10px #60a5fa;
    }
    50% {
        text-shadow: 0 0 20px #3b82f6, 0 0 30px #60a5fa;
    }
    100% {
        text-shadow: 0 0 5px #3b82f6, 0 0 10px #60a5fa;
    }
}

.fancy-blue {
    animation: blueGlow 2s ease-in-out infinite;
}
/* âœ¨ Ø³Ù„Ø§Ø³Ø© Ø¹Ø§Ù…Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹ ÙƒÙ„Ù‡ */
* {
  transition: all 0.3s ease-in-out;   /* ÙŠØ®Ù„ÙŠ Ø£ÙŠ ØªØºÙŠÙŠØ± ÙŠØ¨Ù‚Ù‰ Ù†Ø§Ø¹Ù… */
  scroll-behavior: smooth;            /* ÙŠØ®Ù„ÙŠ Ø§Ù„ØªÙ…Ø±ÙŠØ± Smooth */
}

/* âœ¨ Ø´ÙƒÙ„ Ø­Ù„Ùˆ Ù„Ù„Ù€ hover Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± */
a, button, .btn {
  transition: all 0.3s ease-in-out;
}
a:hover, button:hover, .btn:hover {
  transform: scale(1.05);
  filter: brightness(1.2);
}

/* âœ¨ ÙƒØ±ÙˆØª Ø£Ùˆ Ø¹Ù†Ø§ØµØ± Ø¹Ø§Ù…Ø© */
.card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
}

/* âœ¨ ØµÙˆØ± */
img {
  transition: transform 0.4s ease, filter 0.4s ease;
}
img:hover {
  transform: scale(1.08);
  filter: brightness(1.15);
}

/* âœ¨ Ø¥Ø¯Ø®Ø§Ù„Ø§Øª (input) */
input, textarea, select {
  transition: border 0.3s ease, box-shadow 0.3s ease;
}
input:focus, textarea:focus, select:focus {
  border-color: #0ff;
  box-shadow: 0 0 8px #0ff;
  outline: none;
}

#btn-players,
#btn-compare {
  padding: 10px 18px;
  border-radius: 8px;
  border: none;
  background: #1f2937;
  color: white;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
  margin: 0 5px; /* ÙŠØ®Ù„ÙŠ Ø¨ÙŠÙ†Ù‡Ù… Ù…Ø³Ø§ÙØ© ØµØºÙŠØ±Ø© */
}

#btn-players:hover,
#btn-compare:hover {
  background: #374151;
}

/* âœ… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ø®ØªØ§Ø± Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© */
.player-card.selected {
  border: 2px solid #ff0066;
  box-shadow: 0 0 12px rgba(255, 0, 102, 0.6);
}

/* ===== Messages Styles ===== */
.chat-full-modal .chat-bubble {
    padding: 1rem 1.5rem;
    border-radius: 20px;
    max-width: 80%;
    line-height: 1.7;
    margin-bottom: 0.75rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

.chat-full-modal .user-bubble {
    background-color: #1e1e1e;
    align-self: flex-start;
}

.chat-full-modal .bot-bubble {
    background: linear-gradient(135deg, #3b82f6, #06b6d4);
    color: white;
    align-self: flex-end;
}

@media (max-width: 480px) {
    .main-right {
        display: none
    }
}

/*
 * ============================================
 * Styles for the Fullscreen AI Page
 * ============================================
 */
.ai-page {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--bg-0); /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ù…ÙˆÙ‚Ø¹ */
    z-index: 1000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    padding: 20px;
}

.ai-page.visible {
    opacity: 1;
    visibility: visible;
}

.ai-header {
    position: absolute;
    top: 20px;
    right: 20px;
}

.ai-content {
    text-align: center;
    max-width: 800px;
    width: 100%;
}</style>
</head>
<body>

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kora Net</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        .transfer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding-block: 20px;
        }

        .transfer-card {
            background: var(--panel);
            border: var(--glass-border);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--shadow);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .transfer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .transfer-info h3 {
            font-size: 1.4rem;
            font-weight: 800;
            margin: 0 0 10px;
            color: var(--neon-2);
        }

        .transfer-info p {
            margin: 8px 0;
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        .transfer-info p strong {
            color: var(--muted-2);
            font-weight: 600;
            min-width: 90px;
            display: inline-block;
        }

        .transfer-info p span {
            color: var(--neon-2);
            font-weight: 700;
            margin-right: 8px;
        }
        
        /* Velora AI Chat Styles */
        :root {
          --bg-color: #0b0b0b;
          --primary-bg: #121212;
          --secondary-bg: #1e1e1e;
          --accent-color: #3b82f6;
          --text-color: #f0f0f0;
          --blue-gradient: linear-gradient(135deg, #3b82f6, #06b6d4);
          --shadow-primary: 0 4px 15px rgba(0, 0, 0, 0.3);
          --shadow-secondary: 0 8px 30px rgba(0, 0, 0, 0.5);
        }

        .chat-bubble {
          padding: 1rem 1.5rem;
          border-radius: 20px;
          max-width: 80%;
          line-height: 1.7;
          margin-bottom: 0.75rem;
          box-shadow: var(--shadow-primary);
        }
        .user-bubble {
          background-color: var(--secondary-bg);
          align-self: flex-start;
        }
        .bot-bubble {
          background: var(--blue-gradient);
          color: white;
          align-self: flex-end;
        }

        .input-textarea {
          resize: none;
          border: none;
          background: transparent;
          outline: none;
          color: var(--text-color);
        }

        /* ---------------- FIXES FOR CHAT MODAL ---------------- */
        /* Make the chat modal a fixed, full-screen overlay with a high z-index */
        .chat-modal {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100% !important;
            height: 100% !important;
            z-index: 1000; /* Set a high z-index to ensure it's on top of other content */
            display: flex;
            flex-direction: column;
            background-color: var(--bg-color); /* Match the site's background color */
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateY(100%);
            opacity: 0;
            border-radius: 0; /* Override any border-radius for full screen */
        }
        
        /* Make the chat visible when the "show" class is added (can be used as an alternative to `hidden`) */
        .chat-modal.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* The `hidden` class needs to be defined explicitly if not from Tailwind CSS */
        .hidden {
            display: none;
        }

        /* Ensure the main content area of the chat can scroll independently */
        #chat-content-container {
            overflow-y: auto;
            flex-grow: 1; /* Allow this container to fill available space */
            -webkit-overflow-scrolling: touch; /* Better scrolling on iOS */
        }
    </style>
</head>
<body>

<div class="wrap">
    <header class="site-header">
        <div class="left">
            <a href="/" class="brand">
                <div class="logo">ğŸŒ¹</div>
                <div>
                    <div class="name">ÙƒÙ€ÙˆØ±Ø§ Ù†Ù€Ù€Øª</div>
                    <div class="tagline">Ø´Ø¨ÙƒØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙˆØ§Ù„Ø£Ø®Ø¨Ø§Ø±</div>
                </div>
            </a>
            <nav class="site-nav">
                <a href="#playersPage" class="nav-link active" data-target="playersPage">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†</a>
                <a href="#newsPage" class="nav-link" data-target="newsPage">Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
                <a href="#teamsPage" class="nav-link" data-target="teamsPage">Ø§Ù„ÙØ±Ù‚</a>
                <a href="#contactPage" class="nav-link" data-target="contactPage">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
                <a href="#" id="chat-toggle-btn" class="nav-link ai-link">AI</a>
            </nav>
        </div>
        <div class="toggles">
            <button class="toggle-btn" id="proBtn" aria-label="Toggle PRO mode">PRO</button>
            <button class="toggle-btn" id="themeBtn" aria-label="Toggle theme">ğŸ’¡</button>
        </div>
    </header>

    <div class="site-pages">
        <section id="playersPage" class="page active">
            <div class="site-hero">
                <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
                    <h1 style="margin:0;font-size:1.8rem;font-weight:900" class="gradient-text">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† <span
                                style="font-size:1.2rem" class="muted">(<span id="count"></span> Ù„Ø§Ø¹Ø¨)</span></h1>
                    <div class="controls">
                        <div class="search">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.3-4.3"></path>
                            </svg>
                            <input type="text" id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø§Ø¹Ø¨...">
                        </div>
                        <select class="select" id="posFilter">
                            <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§ÙƒØ²</option>
                            <option value="forward">Ù…Ù‡Ø§Ø¬Ù…</option>
                            <option value="wing">Ø¬Ù†Ø§Ø­</option>
                            <option value="mid">ÙˆØ³Ø·</option>
                            <option value="def">Ù…Ø¯Ø§ÙØ¹</option>
                            <option value="gk">Ø­Ø§Ø±Ø³</option>
                        </select>
                        <select class="select" id="countryFilter">
                            <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙˆÙ„</option>
                            <option value="ğŸ‡ªğŸ‡¬ Ù…ØµØ±">Ù…ØµØ±</option>
                            <option value="ğŸ‡¦ğŸ‡· Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†">Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†</option>
                            <option value="ğŸ‡µğŸ‡¹ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„">Ø§Ù„Ø¨Ø±ØªØºØ§Ù„</option>
                            <option value="ğŸ‡«ğŸ‡· ÙØ±Ù†Ø³Ø§">ÙØ±Ù†Ø³Ø§</option>
                            <option value="ğŸ‡§ğŸ‡ª Ø¨Ù„Ø¬ÙŠÙƒØ§">Ø¨Ù„Ø¬ÙŠÙƒØ§</option>
                            <option value="ğŸ‡­ğŸ‡· ÙƒØ±ÙˆØ§ØªÙŠØ§">ÙƒØ±ÙˆØ§ØªÙŠØ§</option>
                            <option value="ğŸ‡¸ğŸ‡³ Ø§Ù„Ø³Ù†ØºØ§Ù„">Ø§Ù„Ø³Ù†ØºØ§Ù„</option>
                            <option value="ğŸ‡©ğŸ‡ª Ø£Ù„Ù…Ø§Ù†ÙŠØ§">Ø£Ù„Ù…Ø§Ù†ÙŠØ§</option>
                        </select>
                        <button class="btn" id="compareBtn">Ù…Ù‚Ø§Ø±Ù†Ø©</button>
                    </div>
                </div>
            </div>

            <main>
                <div class="main-left">
                    <div class="grid" id="grid"></div>
                </div>
                <div class="main-right" id="rightPane">
                    <div style="text-align:center;color:var(--muted-2);font-weight:700">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù„Ø§Ø¹Ø¨ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                        Ù‡Ù†Ø§
                    </div>
                </div>
            </main>
        </section>

        <section id="newsPage" class="page">
            <div class="site-hero">
                <h1 style="margin:0" class="gradient-text">ğŸŒŸ Ø³ÙˆÙ‚ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª ğŸŒŸ</h1>
            </div>
            <div class="grid-compact">
                <div class="transfer-grid">
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø£Ù„ÙƒØ³Ù†Ø¯Ø± Ø¥ÙŠØ²Ø§Ùƒ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù„ÙŠÙØ±Ø¨ÙˆÙ„</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ù†ÙŠÙˆÙƒØ§Ø³Ù„ ÙŠÙˆÙ†Ø§ÙŠØªØ¯</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 150 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">ÙÙ„ÙˆØ±ÙŠØ§Ù† ÙÙŠØ±ØªØ³</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù„ÙŠÙØ±Ø¨ÙˆÙ„</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø¨Ø§ÙŠØ± Ù„ÙŠÙØ±ÙƒÙˆØ²Ù†</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 116 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù‡ÙˆØºÙˆ Ø¥ÙŠÙƒÙŠØªÙŠÙƒÙŠ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù„ÙŠÙØ±Ø¨ÙˆÙ„</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø¨Ø§Ø±ÙŠØ³ Ø³Ø§Ù† Ø¬ÙŠØ±Ù…Ø§Ù†</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 79 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">ØªØ±ÙŠÙ†Øª Ø£Ù„ÙƒØ³Ù†Ø¯Ø±-Ø£Ø±Ù†ÙˆÙ„Ø¯</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ù„ÙŠÙØ±Ø¨ÙˆÙ„</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 8.5 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¨Ù†ÙŠØ§Ù…ÙŠÙ† Ø³ÙŠØ³ÙƒÙˆ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ù„Ø§ÙŠØ¨Ø²ÙŠØº</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 73.4 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¨Ø±Ø§ÙŠØ§Ù† Ù…Ø¨ÙŠÙˆÙ…Ùˆ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø¨Ø±ÙŠÙ†ØªÙÙˆØ±Ø¯</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 71 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">ÙÙŠÙƒØªÙˆØ± Ø£ÙˆØ³ÙŠÙ…ÙŠÙ†</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>ØºÙ„Ø·Ø© Ø³Ø±Ø§ÙŠ</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ù†Ø§Ø¨ÙˆÙ„ÙŠ</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 64.8 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù†ÙŠÙƒ ÙˆÙˆÙ„ØªÙ…Ø§ÙŠØ¯</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù†ÙŠÙˆÙƒØ§Ø³Ù„ ÙŠÙˆÙ†Ø§ÙŠØªØ¯</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø´ØªÙˆØªØºØ§Ø±Øª</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 69 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù„ÙˆÙŠØ³ Ø¯ÙŠØ§Ø²</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†Ø®</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ù„ÙŠÙØ±Ø¨ÙˆÙ„</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 64.8 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù…Ø§ØªÙŠØ§Ø³ ÙƒÙˆÙ†ÙŠØ§</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 74.5 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¬ÙˆØ§Ùˆ Ø¨ÙŠØ¯Ø±Ùˆ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>ØªØ´ÙŠÙ„Ø³ÙŠ</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> ÙˆØ§ØªÙÙˆØ±Ø¯</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 70 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¯ÙŠÙ† Ù‡ÙˆÙŠØ³Ù†</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø£ÙŠØ§ÙƒØ³</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 78 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">ØªÙŠØºØ§Ù† Ø±Ø§ÙŠÙ†Ø¯Ø±Ø²</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø£ÙŠØ§ÙƒØ³</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 69 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¥Ù„ÙŠØ§Ø³ Ø¨Ù† Ø³ØºÙŠØ±</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø¨Ø§ÙŠØ± Ù„ÙŠÙØ±ÙƒÙˆØ²Ù†</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ù…ÙˆÙ†Ø§ÙƒÙˆ</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 30 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¥ÙŠÙƒÙˆÙŠ ÙÙŠØ±Ù†Ø§Ù†Ø¯ÙŠØ²</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø¨Ø§ÙŠØ± Ù„ÙŠÙØ±ÙƒÙˆØ²Ù†</span></p>
                            <p><strong>Ù‚Ø§Ø¯Ù… Ù…Ù†:</strong> Ø§Ù„Ù‚Ø§Ø¯Ø³ÙŠØ©</p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 30 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù…Ø§Ø±Ùƒ Ø¬ÙˆÙ‡ÙŠ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù„ÙŠÙØ±Ø¨ÙˆÙ„</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 35 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¬ÙŠØ¯ÙˆÙ† Ø³Ø§Ù†Ø´Ùˆ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø£Ø³ØªÙˆÙ† ÙÙŠÙ„Ø§</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> Ø¥Ø¹Ø§Ø±Ø©</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">ÙÙŠÙƒØªÙˆØ± Ù„ÙŠÙ†Ø¯Ù„ÙˆÙ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø£Ø³ØªÙˆÙ† ÙÙŠÙ„Ø§</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> Ø§Ù†ØªÙ‚Ø§Ù„ Ø­Ø±</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø±Ø§Ù†Ø¯ÙŠ ÙƒÙˆÙ„Ùˆ Ù…ÙˆØ§Ù†ÙŠ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>ØªÙˆØªÙ†Ù‡Ø§Ù… Ù‡ÙˆØªØ³Ø¨ÙŠØ±</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> Ø¥Ø¹Ø§Ø±Ø©</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù…Ø§Ø±Ùƒ ØºÙŠÙˆÙŠ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù„ÙŠÙØ±Ø¨ÙˆÙ„</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> ØºÙŠØ± Ù…Ø¹Ù„Ù†Ø©</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¬ÙŠØ§Ù†Ù„ÙˆÙŠØ¬ÙŠ Ø¯ÙˆÙ†Ø§Ø±ÙˆÙ…Ø§</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> Ø¥Ø¹Ø§Ø±Ø©</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¥ÙŠÙ„ÙƒØ§ÙŠ ØºÙˆÙ†Ø¯ÙˆØºØ§Ù†</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>ØºÙ„Ø·Ø© Ø³Ø±Ø§ÙŠ</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> Ø§Ù†ØªÙ‚Ø§Ù„ Ø­Ø±</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù‡Ø§Ø±ÙÙŠ Ø¥Ù„ÙŠÙˆØª</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø£Ø³ØªÙˆÙ† ÙÙŠÙ„Ø§</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 35 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¬ÙˆØ§Ùˆ Ø¨Ø§Ù„ÙŠÙ†ÙŠØ§</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>ØªÙˆØªÙ†Ù‡Ø§Ù… Ù‡ÙˆØªØ³Ø¨ÙŠØ±</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 5 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø£Ø±ÙˆÙ† Ø±Ø§Ù…Ø³Ø¯ÙŠÙ„</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù†ÙŠÙˆÙƒØ§Ø³Ù„ ÙŠÙˆÙ†Ø§ÙŠØªØ¯</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 4.6 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù†ÙŠÙƒÙˆÙ„Ø§Ø³ Ø¬Ø§ÙƒØ³ÙˆÙ†</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†Ø®</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 16.5 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">ÙØ§Ù†ÙŠØ§ Ù…ÙŠÙ„ÙŠÙ†ÙƒÙˆÙÙŠØªØ´ Ø³Ø§ÙÙŠØªØ´</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù†Ø§Ø¨ÙˆÙ„ÙŠ</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 15 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ù„ÙˆØ±ÙŠÙ†Ø²Ùˆ Ù„ÙˆÙƒØ§</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù†Ø§Ø¨ÙˆÙ„ÙŠ</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 9 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø¬ÙˆØ±Ø¬ÙŠ Ø³ÙˆØ¯Ø§ÙƒÙˆÙ</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ø¨Ù†ÙÙŠÙƒØ§</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 6.75 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø±Ø§Ø³Ù…ÙˆØ³ Ù‡ÙˆÙŠÙ„ÙˆÙ†Ø¯</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù†Ø§Ø¨ÙˆÙ„ÙŠ</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 6 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3 class="player-name">Ø£ÙˆÙ„ÙŠÙØ± ØªÙˆØ±ÙŠÙ‡</h3>
                            <p><strong>Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span>Ù†Ø§Ø¨ÙˆÙ„ÙŠ</span></p>
                            <p><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„ØµÙÙ‚Ø©:</strong> 9 Ù…Ù„ÙŠÙˆÙ† ÙŠÙˆØ±Ùˆ</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="teamsPage" class="page">
            <div class="site-hero">
                <h1 style="margin:0" class="gradient-text">Ø§Ù„ÙØ±Ù‚</h1>
            </div>
            <div class="grid-compact">
                <div class="transfer-grid">
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1902</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 14 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 35 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯ÙˆØŒ Ø²ÙŠÙ† Ø§Ù„Ø¯ÙŠÙ† Ø²ÙŠØ¯Ø§Ù†</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1899</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 5 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 26 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> Ù„ÙŠÙˆÙ†ÙŠÙ„ Ù…ÙŠØ³ÙŠØŒ ØªØ´Ø§ÙÙŠØŒ Ø¥Ù†ÙŠÙŠØ³ØªØ§</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ø£ØªÙ„ØªÙŠÙƒÙˆ Ù…Ø¯Ø±ÙŠØ¯</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1903</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 3 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØŒ 11 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> ÙÙŠØ±Ù†Ø§Ù†Ø¯Ùˆ ØªÙˆØ±ÙŠØ³ØŒ Ø¯ÙŠÙŠØ¬Ùˆ Ø³ÙŠÙ…ÙŠÙˆÙ†ÙŠ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1878</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 3 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 20 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> Ø¥Ø±ÙŠÙƒ ÙƒØ§Ù†ØªÙˆÙ†Ø§ØŒ ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ù„ÙŠÙØ±Ø¨ÙˆÙ„</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1892</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 6 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 19 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> Ø³ØªÙŠÙÙ† Ø¬ÙŠØ±Ø§Ø±Ø¯ØŒ Ù…Ø­Ù…Ø¯ ØµÙ„Ø§Ø­</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1880</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 1 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 9 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… Ø­Ø§Ù„ÙŠÙˆÙ†:</strong> ÙƒÙŠÙÙŠÙ† Ø¯ÙŠ Ø¨Ø±ÙˆÙŠÙ†ØŒ Ø¥ÙŠØ±Ù„ÙŠÙ†Øº Ù‡Ø§Ù„Ø§Ù†Ø¯</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>ØªØ´ÙŠÙ„Ø³ÙŠ</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1905</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 2 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 6 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> ÙØ±Ø§Ù†Ùƒ Ù„Ø§Ù…Ø¨Ø§Ø±Ø¯ØŒ Ø¥Ø¯ÙŠÙ† Ù‡Ø§Ø²Ø§Ø±Ø¯</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ø¨Ø§Ø±ÙŠØ³ Ø³Ø§Ù† Ø¬ÙŠØ±Ù…Ø§Ù†</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1970</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 1 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 11 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> Ù†ÙŠÙ…Ø§Ø±ØŒ ÙƒÙŠÙ„ÙŠØ§Ù† Ù…Ø¨Ø§Ø¨ÙŠ</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†ÙŠØ®</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1900</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 6 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 33 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> ÙØ±Ø§Ù†Ø² Ø¨ÙŠÙƒÙ†Ø¨Ø§ÙˆØ±ØŒ ØªÙˆÙ…Ø§Ø³ Ù…ÙˆÙ„Ø±</p>
                        </div>
                    </div>
                    <div class="transfer-card">
                        <div class="transfer-info">
                            <h3>ÙŠÙˆÙÙ†ØªÙˆØ³</h3>
                            <p><strong>ØªØ£Ø³Ø³:</strong> <span>1897</span></p>
                            <p><strong>Ø£Ø¨Ø±Ø² Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª:</strong> 2 Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŒ 36 Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠ</p>
                            <p><strong>Ù†Ø¬ÙˆÙ… ØªØ§Ø±ÙŠØ®ÙŠÙˆÙ†:</strong> Ø£Ù„ÙŠØ³Ø§Ù†Ø¯Ø±Ùˆ Ø¯ÙŠÙ„ Ø¨ÙŠÙŠØ±ÙˆØŒ ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contactPage" class="page">
            <div class="site-hero">
                <h1 style="margin:0" class="gradient-text">Ø§ØªØµÙ„ Ø¨Ù†Ø§</h1>
            </div>
            <div style="background:var(--panel);border-radius:12px;border:var(--glass-border);padding:18px;text-align:center;color:var(--muted-2);font-weight:700">
                <p>Ù„Ù„ØªÙˆØ§ØµÙ„ØŒ ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø³Ù„ØªÙ†Ø§ Ø¹Ù„Ù‰: <a href="mailto:contactwebsite.koranet@gmail.com" style="color:var(--neon-2)">website.koranet@gmail.com</a>
                </p>
            </div>
        </section>
    </div>

    <div id="chat-modal" class="chat-modal hidden">
        <div class="chat-header">
            <div style="display:flex;align-items:center;gap:8px">
                <div class="logo"></div>
                <div class="name" style="font-size:1rem">Velora AI</div>
            </div>
            <button class="icon-btn" id="chat-close-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <main class="flex-1 flex flex-col relative">
            <div id="chat-content-container" class="flex-1 overflow-auto p-6 scrollbar-thin bg-gradient-to-t from-black via-gray-900 to-transparent">
                <div id="log" class="space-y-4 max-w-3xl mx-auto flex flex-col"></div>
                <div id="welcome-message" class="flex flex-col items-center justify-center text-center mt-20 space-y-6">
                    <h2 class="text-2xl font-bold text-white">Ø¨Ù…Ø§Ø°Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ</h2>
                    <div class="grid grid-cols-2 gap-3 mt-4">
                        <button onclick="quickSend('Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø©')" class="px-4 py-2 rounded-full border border-gray-600 text-green-400 hover:bg-green-600/20 transition">
                            ğŸ–¼ï¸ Ø¥Ù†Ø´Ø§Ø¡ ØµÙˆØ±Ø©
                        </button>
<button onclick="quickSend('ÙˆØ¶Ø¹ Ø®Ø·Ø©')" 
        class="px-4 py-2 rounded-full border border-gray-600 text-yellow-400 hover:bg-yellow-600/20 transition">
    ğŸ“ ØªÙƒØªÙŠÙƒ
</button>
                        <button onclick="quickSend('ØªÙ„Ø®ÙŠØµ Ù†Øµ')" class="px-4 py-2 rounded-full border border-gray-600 text-orange-400 hover:bg-orange-600/20 transition">
                            ğŸ“„ ØªÙ„Ø®ÙŠØµ Ù†Øµ
                        </button>
                        <button onclick="quickSend('ÙƒØªØ§Ø¨Ø© ÙƒÙˆØ¯')" class="px-4 py-2 rounded-full border border-gray-600 text-blue-400 hover:bg-blue-600/20 transition">
                            ğŸ’» ÙƒØªØ§Ø¨Ø© ÙƒÙˆØ¯
                        </button>
                    </div>
                </div>
            </div>
            <footer class="bg-primary-bg p-4 flex items-end gap-3 sticky bottom-0">
                <div class="flex items-center gap-3 w-full">
                    <textarea id="q" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ..." rows="1" class="flex-1 input-textarea p-3 rounded-full border border-gray-700 bg-black"></textarea>
                    <button id="send-btn" disabled class="bg-accent-color p-4 rounded-full text-white shadow-lg hover:opacity-80 transition">
                        <i data-feather="send" class="w-6 h-6"></i>
                    </button>
                </div>
            </footer>
        </main>
    </div>

    <div class="overlay" id="overlay" aria-hidden="true">
        <button class="close" id="overlayClose">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
        <div id="overlayContent"></div>
    </div>

    <footer>
        <p>&copy; 
        2025 Kora Net. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.
        ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ø®Ø§ØµÙŠØ© Ø§Ù„AiğŸ’« Ùˆ Ø®Ø§ØµÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©ğŸ’« </p>
    </footer>

</div>

<script>
/*************************************************************************
 * INTEGRATED JS
 * - Site navigation (pages)
 * - Integrated original PLAYERS array + rendering logic (preserved)
 * - ChatPlus: local AI chat that replies to any message
 * - Player Comparison Module
 *************************************************************************/

/* ---------------- SITE NAVIGATION ---------------- */
document.addEventListener('click', (e) => {
    const t = e.target.closest('[data-target]');
    if (t && t.dataset.target) {
        const target = t.dataset.target;
        // update active class
        document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
        document.querySelector(`.nav-link[data-target="${target}"]`)?.classList.add('active');
        // show page
        document.querySelectorAll('.site-pages .page').forEach(p => p.classList.remove('active'));
        const page = document.getElementById(target);
        if (page) page.classList.add('active');
        if (target === 'playersPage') {
            renderGrid(); // keep any opened player in right pane if exist in URL
            const params = new URLSearchParams(window.location.search);
            const pid = params.get('player');
            if (pid) openDetail(pid, {
                pushState: false
            });
        }
    }
});

/* ---------------- PLAYERS DATA (from original, but cleaned) ---------------- */
const PLAYERS = [
  {
    id: "suarez",
    name_ar: "Ù„ÙˆÙŠØ³ Ø³ÙˆØ§Ø±ÙŠØ²",
    name_en: "Luis SuÃ¡rez",
    country: "ğŸ‡ºğŸ‡¾ Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ",
    club: "Ø£ØªÙ„ØªÙŠÙƒÙˆ Ù…Ø¯Ø±ÙŠØ¯",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/0/0a/Luis_Suarez_FCB_2014.jpg",
    basic: { goals: 517, assists: 214 },
    matches: 800,
    trophies: 21,
    rating: 9.0,
    advanced: { xG: 0.58, keyPasses: 1.8, dribblesPG: 1.7, passAcc: "81%", shotAcc: "57%" },
    awards: ["Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ 2014-15", "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ 2010,2011"],
    history: [
      { team: "Nacional", from: 2005, to: 2006 },
      { team: "Groningen", from: 2006, to: 2007 },
      { team: "Ajax", from: 2007, to: 2011 },
      { team: "Liverpool", from: 2011, to: 2014 },
      { team: "Barcelona", from: 2014, to: 2020 },
      { team: "AtlÃ©tico Madrid", from: 2020, to: 2025 }
    ],
    bio: "Ø£Ø­Ø¯ Ø£Ø®Ø·Ø± Ø§Ù„Ù…Ù‡Ø§Ø¬Ù…ÙŠÙ† ÙÙŠ Ø¬ÙŠÙ„Ù‡ØŒ ÙŠÙ…ØªØ§Ø² Ø¨Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø­Ø§Ø³Ù… Ø£Ù…Ø§Ù… Ø§Ù„Ù…Ø±Ù…Ù‰."
  },
  {
    id: "barella",
    name_ar: "Ù†ÙŠÙƒÙˆÙ„Ùˆ Ø¨Ø§Ø±ÙŠÙ„Ø§",
    name_en: "NicolÃ² Barella",
    country: "ğŸ‡®ğŸ‡¹ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§",
    club: "Ø¥Ù†ØªØ± Ù…ÙŠÙ„Ø§Ù†",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/a/a2/Nicol%C3%B2_Barella_in_2021.jpg",
    basic: { goals: 52, assists: 66 },
    matches: 290,
    trophies: 9,
    rating: 8.7,
    advanced: { keyPasses: 2.3, dribblesPG: 1.6, passAcc: "85%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ Ø´Ø§Ø¨ ÙÙŠ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ 2018"],
    history: [
      { team: "Cagliari", from: 2014, to: 2019 },
      { team: "Inter Milan", from: 2019, to: 2025 }
    ],
    bio: "Ù„Ø§Ø¹Ø¨ ÙˆØ³Ø· Ø¥ÙŠØ·Ø§Ù„ÙŠ Ù…Ù…ÙŠØ²ØŒ ÙŠÙ…ØªØ§Ø² Ø¨Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¶ØºØ· ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù„Ø¹Ø¨."
  },
  {
    id: "ronaldinho",
    name_ar: "Ø±ÙˆÙ†Ø§Ù„Ø¯ÙŠÙ†ÙŠÙˆ",
    name_en: "Ronaldinho",
    country: "ğŸ‡§ğŸ‡· Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„",
    club: "Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/e/e8/Ronaldinho_in_2019.jpg",
    basic: { goals: 205, assists: 150 },
    matches: 511,
    trophies: 15,
    rating: 9.0,
    advanced: { keyPasses: 3.0, dribblesPG: 3.5, passAcc: "85%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… 2005", "Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© 2005"],
    history: [
      { team: "GrÃªmio", from: 1998, to: 2001 },
      { team: "Paris Saint-Germain", from: 2001, to: 2003 },
      { team: "Barcelona", from: 2003, to: 2008 },
      { team: "AC Milan", from: 2008, to: 2011 },
      { team: "Flamengo", from: 2011, to: 2012 },
      { team: "AtlÃ©tico Mineiro", from: 2012, to: 2014 },
      { team: "QuerÃ©taro", from: 2014, to: 2015 },
      { team: "Fluminense", from: 2015, to: 2015 }
    ],
    bio: "Ø£Ø­Ø¯ Ø£Ø¹Ø¸Ù… Ù„Ø§Ø¹Ø¨ÙŠ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®ØŒ Ù…Ø¹Ø±ÙˆÙ Ø¨Ù…Ù‡Ø§Ø±Ø§ØªÙ‡ Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ© ÙˆØ£Ø³Ù„ÙˆØ¨Ù‡ Ø§Ù„Ù…Ù…ÙŠØ² ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨."
  },
  {
    id: "debruyne",
    name_ar: "ÙƒÙŠÙÙ† Ø¯ÙŠ Ø¨Ø±ÙˆÙŠÙ†",
    name_en: "Kevin De Bruyne",
    country: "ğŸ‡§ğŸ‡ª Ø¨Ù„Ø¬ÙŠÙƒØ§",
    club: "Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/4/40/Kevin_De_Bruyne_201807091.jpg",
    basic: { goals: 100, assists: 200 },
    matches: 400,
    trophies: 10,
    rating: 8.8,
    advanced: { keyPasses: 3.5, dribblesPG: 1.2, passAcc: "88%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ 2020"],
    history: [
      { team: "Chelsea", from: 2012, to: 2014 },
      { team: "Wolfsburg", from: 2014, to: 2015 },
      { team: "Manchester City", from: 2015, to: 2025 }
    ],
    bio: "ØµØ§Ù†Ø¹ Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù„Ø¬ÙŠÙƒÙŠØŒ ÙŠØ¹ØªØ¨Ø± Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø±Ø±ÙŠÙ† ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…."
  },
  {
    id: "salah",
    name_ar: "Ù…Ø­Ù…Ø¯ ØµÙ„Ø§Ø­",
    name_en: "Mohamed Salah",
    country: "ğŸ‡ªğŸ‡¬ Ù…ØµØ±",
    club: "Ù„ÙŠÙØ±Ø¨ÙˆÙ„",
    pos: "wing",
    img: "https://upload.wikimedia.org/wikipedia/commons/4/4a/Mohamed_Salah_2018.jpg",
    basic: { goals: 243, assists: 113 },
    matches: 397,
    trophies: 7,
    rating: 9.2,
    advanced: { xG: 0.55, keyPasses: 2.3, dribblesPG: 3.4, passAcc: "82%", shotAcc: "58%" },
    awards: [
      "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ (2017ØŒ 2018)",
      "Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ù„Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (3 Ù…Ø±Ø§Øª)",
      "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (PFA) Ù…Ø±ØªÙŠÙ†",
      "Ø¬Ø§Ø¦Ø²Ø© ØµØ§Ù†Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (2022)"
    ],
    history: [
      { team: "Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ÙˆÙ† Ø§Ù„Ø¹Ø±Ø¨", from: 2010, to: 2012 },
      { team: "Ø¨Ø§Ø²Ù„", from: 2012, to: 2014 },
      { team: "ØªØ´ÙŠÙ„Ø³ÙŠ", from: 2014, to: 2016 },
      { team: "ÙÙŠÙˆØ±Ù†ØªÙŠÙ†Ø§", from: 2015, to: 2015 },
      { team: "Ø±ÙˆÙ…Ø§", from: 2016, to: 2017 },
      { team: "Ù„ÙŠÙØ±Ø¨ÙˆÙ„", from: 2017, to: 2025 }
    ],
    bio: "Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ù…ØµØ±ÙŠØ© ÙˆØ§Ù„Ø¥ÙØ±ÙŠÙ‚ÙŠØ©ØŒ ÙŠØªÙ…ÙŠØ² Ø¨Ø³Ø±Ø¹ØªÙ‡ ÙˆÙ…Ù‡Ø§Ø±Ø§ØªÙ‡ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù."
  },
  {
    id: "messi",
    name_ar: "Ù„ÙŠÙˆÙ†ÙŠÙ„ Ù…ÙŠØ³ÙŠ",
    name_en: "Lionel Messi",
    country: "ğŸ‡¦ğŸ‡· Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†",
    club: "Ù…ÙŠØ§Ù…ÙŠ Ø¥Ù†ØªØ±",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/c/c1/Lionel_Messi_20180626.jpg", // Ù…Ø­Ø³Ù‘Ù† Ø¨Ø±ÙˆØ§Ø¨Ø· Wikimedia Commons
    basic: { goals: 877, assists: 391 },
    matches: 1118,
    trophies: 45,
    rating: 9.8,
    advanced: { xG: 0.72, keyPasses: 3.4, dribblesPG: 2.8, passAcc: "89%", shotAcc: "60%" },
    awards: [
      "Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© (8 Ù…Ø±Ø§Øª)",
      "Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ (6 Ù…Ø±Ø§Øª)",
      "Ù‡Ø¯Ø§Ù Ø¨Ø±Ø´Ù„ÙˆÙ†Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ (672 Ù‡Ø¯Ù)",
      "Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø¬Ù„ ÙÙŠ Ø¹Ø§Ù… ÙˆØ§Ø­Ø¯ (91 Ù‡Ø¯Ù 2012)",
      "Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ (112 Ù‡Ø¯Ù)"
    ],
    history: [
      { team: "Barcelona", from: 2004, to: 2021 },
      { team: "Paris Saint-Germain", from: 2021, to: 2023 },
      { team: "Inter Miami", from: 2023, to: 2025 }
    ],
    bio: "Ø£Ø³Ø·ÙˆØ±Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŒ ÙŠÙ…Ù„Ùƒ Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ù‚ÙŠØ§Ø³ÙŠØ© Ù…Ø°Ù‡Ù„Ø© ÙˆÙ…Ø¨Ø¯Ø¹ ÙÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù„Ø¹Ø¨."
  },
  {
    id: "ronaldo",
    name_ar: "ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ",
    name_en: "Cristiano Ronaldo",
    country: "ğŸ‡µğŸ‡¹ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„",
    club: "Ø§Ù„Ù†ØµØ±",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/8/8c/Cristiano_Ronaldo_2018.jpg", // Ù…Ù† Wikimedia Commons
    basic: { goals: 938, assists: 231 },
    matches: 1270,
    trophies: 34,
    rating: 9.5,
    advanced: { xG: 0.75, keyPasses: 1.9, dribblesPG: 2.2, passAcc: "83%", shotAcc: "61%" },
    awards: [
      "Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© (5 Ù…Ø±Ø§Øª)",
      "Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ (4 Ù…Ø±Ø§Øª)",
      "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø£ÙˆØ±ÙˆØ¨Ø§ (3 Ù…Ø±Ø§Øª)",
      "Ù‡Ø¯Ø§Ù Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ",
      "Ø£ÙƒØ«Ø± Ù„Ø§Ø¹Ø¨ ØªØ³Ø¬ÙŠÙ„Ù‹Ø§ Ø¯ÙˆÙ„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®"
    ],
    history: [
      { team: "Sporting CP", from: 2002, to: 2003 },
      { team: "Manchester United", from: 2003, to: 2009 },
      { team: "Real Madrid", from: 2009, to: 2018 },
      { team: "Juventus", from: 2018, to: 2021 },
      { team: "Manchester United", from: 2021, to: 2022 },
      { team: "Al-Nassr", from: 2023, to: 2025 }
    ],
    bio: "Ø£Ø³Ø·ÙˆØ±Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ø­Ø¯ÙŠØ«Ø©ØŒ Ù‡Ø¯Ø§Ù ØªØ§Ø±ÙŠØ®ÙŠ Ø­Ø·Ù… Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©."
  },
  // 20 Ù„Ø§Ø¹Ø¨ Ø¥Ø¶Ø§ÙÙŠ Ù…Ù† Ø§Ù„Ø£ÙØ¶Ù„ Ø¹Ø§Ù„Ù…ÙŠÙ‹Ø§:
  {
    id: "kane",
    name_ar: "Ù‡Ø§Ø±ÙŠ ÙƒÙŠÙ†",
    name_en: "Harry Kane",
    country: "ğŸ‡¬ğŸ‡§ Ø¥Ù†Ø¬Ù„ØªØ±Ø§",
    club: "Ø¨Ø§ÙŠØ±Ù† Ù…ÙŠÙˆÙ†ÙŠØ®",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/2/2e/Harry_Kane_in_Russia_2.jpg",
    basic: { goals: 300, assists: 80 },
    matches: 500,
    trophies: 10,
    rating: 8.7,
    advanced: { xG: 0.70, keyPasses: 1.2, dribblesPG: 0.5, passAcc: "82%", shotAcc: "58%" },
    awards: ["Ù‡Ø¯Ø§Ù Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠØ±Ù„ÙŠØº 2020-21"],
    history: [
      { team: "Tottenham Hotspur", from: 2011, to: 2024 },
      { team: "Bayern Munich", from: 2024, to: 2025 }
    ],
    bio: "Ù…Ù‡Ø§Ø¬Ù… Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ù…Ù† Ø§Ù„Ø·Ø±Ø§Ø² Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØŒ Ù‡Ø¯Ø§Ù Ø·Ø¨ÙŠØ¹ÙŠ ÙˆØ¯Ù‚ÙŠÙ‚ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙØ±Øµ."
  },
  {
    id: "mbappe",
    name_ar: "ÙƒÙŠÙ„ÙŠØ§Ù† Ù…Ø¨Ø§Ø¨ÙŠ",
    name_en: "Kylian MbappÃ©",
    country: "ğŸ‡«ğŸ‡· ÙØ±Ù†Ø³Ø§",
    club: "Ø¨Ø§Ø±ÙŠØ³ Ø³Ø§Ù† Ø¬ÙŠØ±Ù…Ø§Ù†",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/e/e5/Kylian_Mbapp%C3%A9_2018.jpg",
    basic: { goals: 230, assists: 90 },
    matches: 350,
    trophies: 15,
    rating: 9.0,
    advanced: { xG: 0.80, keyPasses: 1.5, dribblesPG: 2.0, passAcc: "84%", shotAcc: "55%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ Ø´Ø§Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… 2018"],
    history: [
      { team: "Monaco", from: 2015, to: 2018 },
      { team: "Paris Saint-Germain", from: 2018, to: 2025 }
    ],
    bio: "Ø¬Ù†Ø§Ø­ ÙØ±Ù†Ø³ÙŠ Ø³Ø±ÙŠØ¹ ÙˆÙ‚Ù†Ø§ØµØŒ Ø£Ø­Ø¯ Ø£Ø¨Ø±Ø² Ù„Ø§Ø¹Ø¨ÙŠ Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯."
  },
  {
    id: "degea",
    name_ar: "Ø¯ÙŠÙÙŠØ¯ Ø¯ÙŠ Ø®ÙŠØ§",
    name_en: "David de Gea",
    country: "ğŸ‡ªğŸ‡¸ Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§",
    club: "Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯",
    pos: "goalkeeper",
    img: "https://upload.wikimedia.org/wikipedia/commons/6/68/David_de_Gea_2017.jpg",
    basic: { cleanSheets: 180 },
    matches: 600,
    trophies: 5,
    rating: 8.2,
    advanced: { savesPG: 3.5, passAcc: "75%" },
    awards: ["Ø£ÙØ¶Ù„ Ø­Ø§Ø±Ø³ ÙÙŠ Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠØ±Ù„ÙŠØº 2015"],
    history: [
      { team: "AtlÃ©tico Madrid", from: 2009, to: 2011 },
      { team: "Manchester United", from: 2011, to: 2025 }
    ],
    bio: "Ø­Ø§Ø±Ø³ Ù…Ø±Ù…Ù‰ Ø¥Ø³Ø¨Ø§Ù†ÙŠ Ø¨Ø§Ø±Ø¹ØŒ Ù…Ø¹Ø±ÙˆÙ Ø¨Ø±Ø¯ÙˆØ¯ ÙØ¹Ù„Ù‡ ÙˆØ³Ø±Ø¹ØªÙ‡ ÙÙŠ Ø§Ù„ØªØµØ¯ÙŠ."
  },
  {
    id: "neymar",
    name_ar: "Ù†ÙŠÙ…Ø§Ø± Ø¬ÙˆÙ†ÙŠÙˆØ±",
    name_en: "Neymar Jr.",
    country: "ğŸ‡§ğŸ‡· Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„",
    club: "Ø¨Ø§Ø±ÙŠØ³ Ø³Ø§Ù† Ø¬ÙŠØ±Ù…Ø§Ù†",
    pos: "wing",
    img: "https://upload.wikimedia.org/wikipedia/commons/9/92/Neymar_PSG.jpg",
    basic: { goals: 200, assists: 150 },
    matches: 450,
    trophies: 25,
    rating: 9.0,
    advanced: { keyPasses: 2.5, dribblesPG: 3.0, passAcc: "84%" },
    awards: ["Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠ 2015"],
    history: [
      { team: "Santos", from: 2009, to: 2013 },
      { team: "Barcelona", from: 2013, to: 2017 },
      { team: "Paris Saint-Germain", from: 2017, to: 2025 }
    ],
    bio: "Ø³Ø§Ø­Ø± Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠØŒ Ù…ÙˆÙ‡ÙˆØ¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙˆØºØ© ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„ØªÙ…Ø±ÙŠØ±."
  },
  {
    id: "pogba",
    name_ar: "Ø¨ÙˆÙ„ Ø¨ÙˆØºØ¨Ø§",
    name_en: "Paul Pogba",
    country: "ğŸ‡«ğŸ‡· ÙØ±Ù†Ø³Ø§",
    club: "ÙŠÙˆØ±ÙˆÙÙ†ØªÙˆØ³",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/f/f0/Paul_Pogba_2017-03-09.jpg",
    basic: { goals: 50, assists: 40 },
    matches: 380,
    trophies: 10,
    rating: 8.0,
    advanced: { keyPasses: 2.2, dribblesPG: 1.3, passAcc: "85%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ Ø´Ø§Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… 2013"],
    history: [
      { team: "Manchester United", from: 2011, to: 2012 },
      { team: "Juventus", from: 2012, to: 2016 },
      { team: "Manchester United", from: 2016, to: 2022 },
      { team: "Juventus", from: 2022, to: 2025 }
    ],
    bio: "Ù„Ø§Ø¹Ø¨ ÙˆØ³Ø· ÙØ±Ù†Ø³ÙŠ Ù…ÙˆÙ‡ÙˆØ¨ØŒ ÙŠØªÙ…ÙŠØ² Ø¨Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ…Ø±ÙŠØ±Ø§Øª Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ù‚ÙˆØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©."
  },
  {
    id: "sterling",
    name_ar: "Ø±Ø­ÙŠÙ… Ø³ØªØ±Ù„ÙŠÙ†Ø¬",
    name_en: "Raheem Sterling",
    country: "ğŸ‡¬ğŸ‡§ Ø¥Ù†Ø¬Ù„ØªØ±Ø§",
    club: "Ù…Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ",
    pos: "wing",
    img: "https://upload.wikimedia.org/wikipedia/commons/e/e2/Raheem_Sterling_2018-07-14.jpg",
    basic: { goals: 140, assists: 80 },
    matches: 650,
    trophies: 15,
    rating: 8.1,
    advanced: { xG: 0.53, keyPasses: 1.4, dribblesPG: 2.1, passAcc: "82%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø¹Ø¯ 2015"],
    history: [
      { team: "Liverpool", from: 2010, to: 2015 },
      { team: "Manchester City", from: 2015, to: 2025 }
    ],
    bio: "Ø¬Ù†Ø§Ø­ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø³Ø±ÙŠØ¹ ÙˆÙØ¹Ø§Ù„ ÙÙŠ Ø§Ø³ØªØºÙ„Ø§Ù„ Ø§Ù„ÙØ±Øµ."
  },
  {
    id: "kante",
    name_ar: "Ø§Ù†ØºÙˆÙ„Ùˆ ÙƒØ§Ù†ØªÙŠ",
    name_en: "N'Golo KantÃ©",
    country: "ğŸ‡«ğŸ‡· ÙØ±Ù†Ø³Ø§",
    club: "Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/a/a5/Ngolo_Kante_2016.jpg",
    basic: { goals: 20, assists: 40 },
    matches: 400,
    trophies: 12,
    rating: 8.6,
    advanced: { possessionsWonPG: 5.0, interceptionsPG: 2.3, passAcc: "88%" },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø¥Ù†Ø¬Ù„ØªØ±Ø§ 2017"],
    history: [
      { team: "Caen", from: 2012, to: 2015 },
      { team: "Leicester City", from: 2015, to: 2016 },
      { team: "Chelsea", from: 2016, to: 2023 },
      { team: "Manchester United", from: 2023, to: 2025 }
    ],
    bio: "Ù„Ø§Ø¹Ø¨ ÙˆØ³Ø· Ù‚ÙˆÙŠ ÙˆÙ…Ø«Ø§Ø¨Ø±ØŒ ÙŠØ³Ø§Ù‡Ù… ÙƒØ«ÙŠØ±Ø§Ù‹ ÙÙŠ Ù‚Ø·Ø¹ Ø§Ù„ÙƒØ±Ø§Øª ÙˆØ¨Ù†Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨."
  },
  {
    id: "ounas",
    name_ar: "Ø£Ø¯Ø§Ù… Ø£ÙˆÙ†Ø§Ù†Ø§",
    name_en: "Edouard Mendy",
    country: "ğŸ‡¸ğŸ‡³ Ø§Ù„Ø³Ù†ØºØ§Ù„",
    club: "ØªØ´ÙŠÙ„Ø³ÙŠ",
    pos: "goalkeeper",
    img: "https://upload.wikimedia.org/wikipedia/commons/6/67/Andr%C3%A9_Onana.jpg",
    basic: { cleanSheets: 120 },
    matches: 250,
    trophies: 6,
    rating: 8.4,
    advanced: { savesPG: 3.7, passAcc: "78%" },
    awards: ["Ø£ÙØ¶Ù„ Ø­Ø§Ø±Ø³ ÙÙŠ Ø£ÙˆØ±ÙˆØ¨Ø§ 2021"],
    history: [
      { team: "Reims", from: 2016, to: 2018 },
      { team: "Chelsea", from: 2020, to: 2025 }
    ],
    bio: "Ø­Ø§Ø±Ø³ Ø³Ù†ØºØ§Ù„ÙŠ Ù‡Ø§Ø¯Ø¦ ÙˆÙ…ÙˆØ«ÙˆÙ‚ØŒ Ù…Ù…ÙŠØ² Ø¨Ø±Ø¯ÙˆØ¯ Ø§Ù„ÙØ¹Ù„ ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ…."
  }
];

let state = {
  pro: false,
  theme: "dark",
  query: "",
  posFilter: "all",
  countryFilter: "all"
};
// DOM refs (players)
const grid = document.getElementById('grid');
const count = document.getElementById('count');
const searchInput = document.getElementById('search');
const posSelect = document.getElementById('posFilter');
const countrySelect = document.getElementById('countryFilter');
const proBtn = document.getElementById('proBtn');
const themeBtn = document.getElementById('themeBtn');
const rightPane = document.getElementById('rightPane');
const overlay = document.getElementById('overlay');
const overlayContent = document.getElementById('overlayContent');
const overlayClose = document.getElementById('overlayClose');
const compareBtn = document.getElementById('compareBtn');

function esc(s) {
    return String(s).replace(/[&<>"']/g, c => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
    }[c]));
}

function translatePos(pos) {
    const map = {
        forward: "Ù…Ù‡Ø§Ø¬Ù…",
        wing: "Ø¬Ù†Ø§Ø­",
        mid: "ÙˆØ³Ø·",
        def: "Ù…Ø¯Ø§ÙØ¹",
        gk: "Ø­Ø§Ø±Ø³"
    };
    return map[pos] || pos;
}

function renderCard(player) {
    const card = document.createElement('article');
    card.className = "card player-card";
    card.dataset.id = player.id;
    card.innerHTML = `
        <div class="head">
            ${player.img ? `<img class="thumb" src="${esc(player.img)}" alt="${esc(player.name_ar)}" loading="lazy" />` : `<div class="thumb-empty">ØµÙˆØ±Ø©</div>`}
        </div>
        <div class="card-body">
            <h3 class="player-name name-ar">${esc(player.name_ar)}</h3>
            <div class="name-en">${esc(player.name_en)}</div>
            <div class="meta">
                <div class="chip">${player.country}</div>
                <div class="chip">${translatePos(player.pos)}</div>
            </div>
            <div class="card-footer">
                <button class="btn-small view-btn">ØªÙØ§ØµÙŠÙ„</button>
            </div>
        </div>
    `;
    card.querySelector('.view-btn').addEventListener('click', (e) => {
        e.stopPropagation();
        openDetail(player.id, {
            pushState: true
        });
    });
    card.addEventListener('click', (e) => {
        if (e.target.closest('button')) return;
        openDetail(player.id, {
            pushState: true
        });
    });
    return card;
}

function renderGrid() {
    if (!grid) return;
    grid.innerHTML = "";
    const q = state.query.trim().toLowerCase();
    const pos = state.posFilter;
    const country = state.countryFilter;
    const uniquePlayers = getUniquePlayers(PLAYERS);
    let items = uniquePlayers.filter(p => {
        const matchesQ = !q || p.name_ar.toLowerCase().includes(q) || p.name_en.toLowerCase().includes(q) || p.club.toLowerCase().includes(q);
        const matchesPos = pos === 'all' || p.pos === pos;
        const matchesCountry = country === 'all' || p.country === country;
        return matchesQ && matchesPos && matchesCountry;
    });
    count.textContent = ` ${items.length} `;
    items.forEach(p => grid.appendChild(renderCard(p)));
    if (items.length === 0) {
        const empty = document.createElement('div');
        empty.style.padding = '36px';
        empty.style.textAlign = 'center';
        empty.innerHTML = `<div style="color:var(--muted-2); font-weight:900">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</div>`;
        grid.appendChild(empty);
    }
}

function getUniquePlayers(players) {
    const uniqueIds = new Set();
    return players.filter(player => {
        if (!uniqueIds.has(player.id)) {
            uniqueIds.add(player.id);
            return true;
        }
        return false;
    });
}

function renderStars(rating) {
    const s = Math.round((rating / 10) * 5 * 2) / 2;
    const full = Math.floor(s);
    const half = (s - full) >= 0.5 ? 1 : 0;
    const empty = 5 - full - half;
    let out = '';
    for (let i = 0; i < full; i++) out += '<span class="star">â˜…</span>';
    if (half) out += '<span class="star">â˜†</span>';
    for (let i = 0; i < empty; i++) out += '<span class="star" style="opacity:.25">â˜…</span>';
    return out;
}

function renderDetail(player, {
    pro = false
} = {}) {
    if (!player) return `<div style="text-align:center;color:var(--muted-2);font-weight:700">Ø§Ù„Ù„Ø§Ø¹Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</div>`;
    const awardsHtml = (player.awards && player.awards.length) ? `<ul>${player.awards.map(a => `<li>${esc(a)}</li>`).join('')}</ul>` : `<div class="tiny muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬ÙˆØ§Ø¦Ø² Ù…ÙØµÙ„Ø©</div>`;
    let historyHtml = `<div style="display:flex;flex-direction:column;gap:6px">`;
    if (player.history && player.history.length) {
        player.history.forEach(h => {
            historyHtml += `<div style="display:flex;justify-content:space-between;align-items:center;padding:6px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border-radius:6px">
 <div style="font-weight:800">${esc(h.team)}</div>
 <div style="font-size:.85rem;color:var(--muted-2)">${h.from} â€” ${h.to}</div>
 </div>`;
        });
    }
    historyHtml += `</div>`;
    let advancedHtml = '';
    if (pro && player.advanced) {
        advancedHtml = `<div>
 <h4 class="tiny muted">ğŸ”¬ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h4>
 <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:8px">
 ${Object.entries(player.advanced).map(([k, v]) => `
 <div style="background:linear-gradient(90deg,#2b2b4d,#1f1f3a);padding:8px;border-radius:8px;border:var(--glass-border);">
 <div style="font-weight:900;color:var(--neon-1)">${esc(String(v))}</div>
 <div style="font-size:.78rem;color:var(--muted-2);margin-top:6px">${esc(k)}</div>
 </div>`).join('')}
 </div>
 </div>`;
    }
    return `
 <div style="display:flex;flex-direction:column;gap:10px">
 <div style="display:flex;justify-content:space-between;align-items:center">
 <div style="display:flex;gap:12px;align-items:center">
 <div class="photo">
 ${player.img ? `<img src="${esc(player.img)}" alt="${esc(player.name_ar)}">` : `<div class="photo-empty">ØµÙˆØ±Ø©</div>`}
 </div>
 <div>
 <h2>${esc(player.name_ar)} <div style="font-size:.9rem;color:var(--muted-2);font-weight:800">${esc(player.name_en)}</div></h2>
 <div style="margin-top:6px;display:flex;gap:6px;flex-wrap:wrap">
 <div class="chip">${player.country}</div>
 <div class="chip">${player.club}</div>
 <div class="chip">${translatePos(player.pos)}</div>
 </div>
 <div style="margin-top:8px;font-weight:900;color:var(--neon-1)"><span class="stars" style="margin-left:8px">${renderStars(player.rating)}</span></div>
 </div>
 </div>
 <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
 <button class="action print-card" data-player-id="${esc(player.id)}">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
 </div>
 </div>
 <div>
 <h4 class="tiny muted">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø£Ø³Ø§Ø³ÙŠØ©</h4>
 <div class="big-stats">
 <div class="stat-card"><div class="num">${player.basic.goals}</div><div class="lbl">Ø£Ù‡Ø¯Ø§Ù</div></div>
 <div class="stat-card"><div class="num">${player.basic.assists}</div><div class="lbl">ØªÙ…Ø±ÙŠØ±Ø§Øª</div></div>
 <div class="stat-card"><div class="num">${player.matches}</div><div class="lbl">Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div></div>
 </div>
 </div>
 ${advancedHtml}
 <div>
 <h4 class="tiny muted">ğŸ† Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</h4>
 <div class="awards">${awardsHtml}</div>
 </div>
 <div>
 <h4 class="tiny muted">ğŸ§¾ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£Ù†Ø¯ÙŠØ©</h4>
 ${historyHtml}
 </div>
 <div>
 <h4 class="tiny muted">ğŸ“ Ù†Ø¨Ø°Ø©</h4>
 <div class="bio">${esc(player.bio)}</div>
 </div>
 </div>
 `;
}

function openDetail(id, {
    pushState = false
} = {}) {
    const player = PLAYERS.find(p => p.id === id);
    if (!player) {
        const content = `<div style="text-align:center; color:var(--muted-2); font-weight:700; padding:20px;">Ø§Ù„Ù„Ø§Ø¹Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.</div>`;
        if (window.innerWidth >= 880) {
            rightPane.innerHTML = content;
        } else {
            overlayContent.innerHTML = content;
            overlay.classList.add('show');
            overlay.setAttribute('aria-hidden', 'false');
        }
        return;
    }
    const html = renderDetail(player, {
        pro: state.pro
    });
    if (window.innerWidth >= 880) {
        rightPane.innerHTML = html;
    } else {
        overlayContent.innerHTML = html;
        overlay.classList.add('show');
        overlay.setAttribute('aria-hidden', 'false');
    }
    // Add event listeners after content is rendered
    const container = window.innerWidth >= 880 ? rightPane : overlayContent;
    const printBtn = container.querySelector('.print-card');
    if (printBtn) printBtn.addEventListener('click', () => printPlayerCard(player));
    const url = new URL(window.location.href);
    url.searchParams.set('player', id);
    if (pushState) history.pushState({
        player: id
    }, '', url);
    else history.replaceState({
        player: id
    }, '', url);
}

function closeOverlay() {
    overlay.classList.remove('show');
    overlay.setAttribute('aria-hidden', 'true');
    overlayContent.innerHTML = '';
}

function exportPlayerJSON(player) {
    const blob = new Blob([JSON.stringify(player, null, 2)], {
        type: 'application/json'
    });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${player.id}.json`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
}

function printPlayerCard(player) {
    const w = window.open('', '_blank');
    const html = `
 <html>
 <head><title>Ø¨Ø·Ø§Ù‚Ø© ${esc(player.name_ar)}</title>
 <style>
 body{font-family:Tahoma,Arial;background:#fff;color:#000;padding:18px}
 .card{border:1px solid #222;padding:12px;border-radius:8px;max-width:400px}
 h2{margin:0}
 </style>
 </head>
 <body>
 <div class="card">
 <h2>${esc(player.name_ar)} â€” ${esc(player.name_en)}</h2>
 ${player.img ? `<img src="${esc(player.img)}" style="width:100%;border-radius:8px;margin-top:8px"/>` : `<div style="width:100px;height:100px;background:#eee;border-radius:8px;margin:8px auto;display:flex;align-items:center;justify-content:center">ØµÙˆØ±Ø©</div>`}
 <p>Ø§Ù„Ù†Ø§Ø¯ÙŠ: ${esc(player.club)}</p>
 <p>Ø§Ù„Ø¯ÙˆÙ„Ø©: ${esc(player.country)}</p>
 <p>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù: ${player.basic.goals} â€” Ø§Ù„ØªÙ…Ø±ÙŠØ±Ø§Øª: ${player.basic.assists}</p>
 </div>
 </body>
 </html>
 `;
    w.document.write(html);
    w.document.close();
    w.print();
}

// Events (players)
if (searchInput) searchInput.addEventListener('input', (e) => {
    state.query = e.target.value;
    renderGrid();
});

// Fix for select elements
const selects = document.querySelectorAll('.select');
selects.forEach(select => {
    select.addEventListener('focus', () => {
        select.classList.add('active-select');
    });
    select.addEventListener('blur', () => {
        select.classList.remove('active-select');
    });
});

if (posSelect) posSelect.addEventListener('change', (e) => {
    state.posFilter = e.target.value;
    renderGrid();
});
if (countrySelect) countrySelect.addEventListener('change', (e) => {
    state.countryFilter = e.target.value;
    renderGrid();
});
if (proBtn) proBtn.addEventListener('click', () => {
    state.pro = !state.pro;
    proBtn.classList.toggle('active', state.pro);
    renderGrid();
    const params = new URLSearchParams(window.location.search);
    const pid = params.get('player');
    if (pid) openDetail(pid, {
        pushState: false
    });
});
if (themeBtn) themeBtn.addEventListener('click', () => {
    document.body.classList.toggle('light');
    themeBtn.classList.toggle('active');
    state.theme = state.theme === 'dark' ? 'light' : 'dark';
});
if (overlayClose) overlayClose.addEventListener('click', () => {
    closeOverlay();
    const url = new URL(window.location.href);
    url.searchParams.delete('player');
    history.pushState({}, '', url);
});
window.addEventListener('popstate', (e) => {
    const params = new URLSearchParams(window.location.search);
    const pid = params.get('player');
    if (pid) openDetail(pid, {
        pushState: false
    });
    else {
        closeOverlay();
        rightPane.innerHTML = '<div style="text-align:center;color:var(--muted-2);font-weight:700">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù„Ø§Ø¹Ø¨ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù‡Ù†Ø§</div>';
    }
});
window.addEventListener('resize', () => {
    if (window.innerWidth >= 880 && overlay.classList.contains('show')) {
        rightPane.innerHTML = overlayContent.innerHTML;
        overlay.classList.remove('show');
    }
});

function initPlayers() {
    const params = new URLSearchParams(window.location.search);
    const pid = params.get('player');
    if (pid) {
        document.querySelector(`.nav-link[data-target="playersPage"]`).click();
        openDetail(pid, {
            pushState: false
        });
    } else {
        renderGrid();
    }
}

document.addEventListener('DOMContentLoaded', () => {
    initPlayers();
});

window.TOP_GOAL = {
    PLAYERS,
    renderGrid,
    openDetail,
    exportPlayerJSON,
    printPlayerCard
};


// ğŸš€ Player Comparison Module
let selectedPlayers = [];

// Handle click on "compare" button to open the overlay
if (compareBtn) {
    compareBtn.addEventListener("click", () => {
        overlayContent.innerHTML = `
            <h2 class="gradient-text" style="text-align:center;margin:15px 0">âš½ Ø§Ø®ØªØ± Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</h2>
            <p style="text-align:center;color:var(--muted-2);font-weight:700">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø«Ù… Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©"</p>
            <div style="text-align:center;margin-top:15px">
                <button id="startCompareBtn" class="toggle-btn" disabled>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</button>
            </div>
        `;
        overlay.classList.add('show');
        overlay.setAttribute("aria-hidden", "false");
        selectedPlayers = [];
        resetSelections();
    });
}

// Handle player card clicks for selection
if (grid) {
    grid.addEventListener("click", e => {
        const card = e.target.closest(".player-card");
        if (!card) return;

        const playerId = card.dataset.id;
        const index = selectedPlayers.indexOf(playerId);

        if (index > -1) {
            // Deselect
            selectedPlayers.splice(index, 1);
            card.classList.remove("selected");
        } else {
            // Select
            selectedPlayers.push(playerId);
            card.classList.add("selected");
        }

        const startBtn = document.getElementById("startCompareBtn");
        if (startBtn) {
            startBtn.disabled = selectedPlayers.length !== 2;
        }
    });
}


// Handle "Start Comparison" button click
document.addEventListener("click", e => {
    if (e.target && e.target.id === "startCompareBtn") {
        if (selectedPlayers.length !== 2) {
            alert("Ù„Ø§Ø²Ù… ØªØ®ØªØ§Ø± Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø£ÙˆÙ„Ø§Ù‹");
            return;
        }

        const [id1, id2] = selectedPlayers;
        const player1 = PLAYERS.find(p => p.id === id1);
        const player2 = PLAYERS.find(p => p.id === id2);

        if (!player1 || !player2) {
            alert("âŒ Ù…Ø´ Ù„Ø§Ù‚ÙŠ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…Ø®ØªØ§Ø±ÙŠÙ†");
            return;
        }

        // Get basic stats to compare
        const basicStats = Object.keys(player1.basic);
        const advancedStats = state.pro ? Object.keys(player1.advanced) : [];

        let rows = "";

        // Basic stats
        for (const stat of basicStats) {
            const val1 = player1.basic[stat];
            const val2 = player2.basic[stat];
            rows += `
                <tr>
                    <td>${esc(stat)}</td>
                    <td class="${val1 > val2 ? 'better' : val1 < val2 ? 'worse' : ''}">${esc(String(val1))}</td>
                    <td class="${val2 > val1 ? 'better' : val2 < val1 ? 'worse' : ''}">${esc(String(val2))}</td>
                </tr>
            `;
        }

        // Advanced stats (if PRO mode is active)
        if (state.pro) {
            for (const stat of advancedStats) {
                const val1 = player1.advanced[stat];
                const val2 = player2.advanced[stat];
                rows += `
                    <tr>
                        <td style="font-weight:700">${esc(stat)} (PRO)</td>
                        <td>${esc(String(val1))}</td>
                        <td>${esc(String(val2))}</td>
                    </tr>
                `;
            }
        }

        overlayContent.innerHTML = `
            <h2 class="gradient-text" style="text-align:center;margin:15px 0">ğŸ“Š Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</h2>
            <div style="overflow-x:auto">
                <table class="compare-table" style="width:100%; border-collapse:collapse; text-align:center">
                    <thead>
                        <tr style="background:var(--muted-bg)">
                            <th style="padding:8px">Ø§Ù„Ù…ÙŠØ²Ø©</th>
                            <th style="padding:8px">${esc(player1.name_ar)}</th>
                            <th style="padding:8px">${esc(player2.name_ar)}</th>
                        </tr>
                    </thead>
                    <tbody>${rows || "<tr><td colspan='3'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td></tr>"}</tbody>
                </table>
            </div>
            <div style="text-align:center; margin-top:12px">
                <button class="toggle-btn" id="backToSelect">ğŸ”„ Ø§Ø®ØªØ± Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¢Ø®Ø±ÙŠÙ†</button>
            </div>
        `;

        document.getElementById("backToSelect").addEventListener("click", () => {
            compareBtn.click();
        });
    }
});

// Close overlay on button click
if (overlayClose) {
    overlayClose.addEventListener("click", () => {
        overlay.classList.remove("show");
        overlay.setAttribute("aria-hidden", "true");
        resetSelections();
    });
}

function resetSelections() {
    document.querySelectorAll(".player-card.selected").forEach(c => {
        c.classList.remove("selected");
    });
}


// Function to show a temporary toast notification
function showToast(message) {
  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.textContent = message;
  document.body.appendChild(toast);

  // Animate the toast in
  setTimeout(() => {
    toast.style.transform = 'translateY(-10px)';
    toast.style.opacity = '1';
  }, 10);

  // Animate the toast out and remove it
  setTimeout(() => {
    toast.style.transform = 'translateY(-60px)';
    toast.style.opacity = '0';
    toast.addEventListener('transitionend', () => {
      toast.remove();
    });
  }, 2500); // Display for 2.5 seconds
}


// Velora AI Chat Integration
const chatToggleBtn = document.getElementById('chat-toggle-btn');
const chatModal = document.getElementById('chat-modal');
const chatCloseBtn = document.getElementById('chat-close-btn');

chatToggleBtn.addEventListener('click', () => {
    chatModal.classList.remove('hidden');
    // Add a class to make it visible and animated
    chatModal.classList.add('show');
});

chatCloseBtn.addEventListener('click', () => {
    // Hide the chat modal and remove the "show" class
    chatModal.classList.remove('show');
    // We add a short delay before adding the 'hidden' class to allow the animation to complete
    setTimeout(() => {
        chatModal.classList.add('hidden');
    }, 300);
});

// The following is the integrated JS for the new chat functionality
feather.replace();

const geminiApiKey = "AIzaSyCwSuE3CBnBYJ17tsllNnwJPCYz1YsA-5I";
const geminiModel = "gemini-1.5-flash";
const geminiEndpoint = `https://generativelanguage.googleapis.com/v1beta/models/${geminiModel}:generateContent`;

const elements = {
  log: document.getElementById('log'),
  input: document.getElementById('q'),
  sendBtn: document.getElementById('send-btn'),
  welcomeMsg: document.getElementById('welcome-message')
};

let currentChat = [];

function createBubble(content, isUser) {
  const div = document.createElement('div');
  div.className = `chat-bubble ${isUser ? 'user-bubble' : 'bot-bubble'}`;
  div.innerHTML = content.replace(/\n/g, '<br>');
  elements.log.appendChild(div);
  elements.log.scrollTop = elements.log.scrollHeight;
}

function hideWelcome() {
  if (elements.welcomeMsg) {
    elements.welcomeMsg.style.display = 'none';
  }
}

async function sendPrompt() {
  const val = elements.input.value.trim();
  if (!val) return;

  hideWelcome();
  createBubble(val, true);
  currentChat.push({ role: 'user', content: val });
  elements.input.value = '';
  elements.sendBtn.disabled = true;

  const botDiv = document.createElement('div');
  botDiv.className = 'chat-bubble bot-bubble';
  botDiv.innerHTML = '...';
  elements.log.appendChild(botDiv);
  elements.log.scrollTop = elements.log.scrollHeight;

  try {
    const response = await axios.post(`${geminiEndpoint}?key=${geminiApiKey}`, {
      contents: currentChat.map(msg => ({
        role: msg.role === 'user' ? 'user' : 'model',
        parts: [{ text: msg.content }]
      }))
    });

    const answer = response.data.candidates[0].content.parts[0].text.trim();
    botDiv.innerHTML = answer;
    currentChat.push({ role: 'model', content: answer });
  } catch (e) {
    botDiv.innerHTML = 'âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…';
  }

  elements.sendBtn.disabled = false;
}

function quickSend(text) {
  elements.input.value = text;
  sendPrompt();
}

elements.input.addEventListener('input', () => {
  elements.sendBtn.disabled = elements.input.value.trim() === '';
});
elements.sendBtn.addEventListener('click', sendPrompt);
elements.input.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    sendPrompt();
  }
});
</script>
</body>
</html>

<script>/*************************************************************************
 * INTEGRATED JS
 * - Site navigation (pages)
 * - Integrated original PLAYERS array + rendering logic (preserved)
 * - ChatPlus: local AI chat that replies to any message
 *************************************************************************/

/* ---------------- SITE NAVIGATION ---------------- */
document.addEventListener('click', (e) => {
    const t = e.target.closest('[data-target]');
    if (t && t.dataset.target) {
        const target = t.dataset.target;
        // update active class
        document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
        document.querySelector(`.nav-link[data-target="${target}"]`)?.classList.add('active');
        // show page
        document.querySelectorAll('.site-pages .page').forEach(p => p.classList.remove('active'));
        const page = document.getElementById(target);
        if (page) page.classList.add('active');
        if (target === 'playersPage') {
            renderGrid();
            const params = new URLSearchParams(window.location.search);
            const pid = params.get('player');
            if (pid) openDetail(pid, {
                pushState: false
            });
        }
    }
});

/* ---------------- PLAYERS DATA (from original, but cleaned) ---------------- */
const PLAYERS = [{
    id: "suarez",
    name_ar: "Ù„ÙˆÙŠØ³ Ø³ÙˆØ§Ø±ÙŠØ²",
    name_en: "Luis SuÃ¡rez",
    country: "ğŸ‡ºğŸ‡¾ Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ",
    club: "Ø£ØªÙ„ØªÙŠÙƒÙˆ Ù…Ø¯Ø±ÙŠØ¯",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/0/0a/Luis_Suarez_FCB_2014.jpg",
    basic: {
        goals: 517,
        assists: 214
    },
    matches: 800,
    trophies: 21,
    rating: 9.0,
    advanced: {
        xG: 0.58,
        keyPasses: 1.8,
        dribblesPG: 1.7,
        passAcc: "81%",
        shotAcc: "57%"
    },
    awards: ["Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ 2014-15", "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ 2010,2011"],
    history: [{
        team: "Nacional",
        from: 2005,
        to: 2006
    }, {
        team: "Groningen",
        from: 2006,
        to: 2007
    }, {
        team: "Ajax",
        from: 2007,
        to: 2011
    }, {
        team: "Liverpool",
        from: 2011,
        to: 2014
    }, {
        team: "Barcelona",
        from: 2014,
        to: 2020
    }, {
        team: "AtlÃ©tico Madrid",
        from: 2020,
        to: 2025
    }],
    bio: "Ø£Ø­Ø¯ Ø£Ø®Ø·Ø± Ø§Ù„Ù…Ù‡Ø§Ø¬Ù…ÙŠÙ† ÙÙŠ Ø¬ÙŠÙ„Ù‡ØŒ ÙŠÙ…ØªØ§Ø² Ø¨Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø­Ø§Ø³Ù… Ø£Ù…Ø§Ù… Ø§Ù„Ù…Ø±Ù…Ù‰."
}, {
    id: "barella",
    name_ar: "Ù†ÙŠÙƒÙˆÙ„Ùˆ Ø¨Ø§Ø±ÙŠÙ„Ø§",
    name_en: "NicolÃ² Barella",
    country: "ğŸ‡®ğŸ‡¹ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§",
    club: "Ø¥Ù†ØªØ± Ù…ÙŠÙ„Ø§Ù†",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/a/a2/Nicol%C3%B2_Barella_in_2021.jpg",
    basic: {
        goals: 52,
        assists: 66
    },
    matches: 290,
    trophies: 9,
    rating: 8.7,
    advanced: {
        keyPasses: 2.3,
        dribblesPG: 1.6,
        passAcc: "85%"
    },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ Ø´Ø§Ø¨ ÙÙŠ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ 2018"],
    history: [{
        team: "Cagliari",
        from: 2014,
        to: 2019
    }, {
        team: "Inter Milan",
        from: 2019,
        to: 2025
    }],
    bio: "Ù„Ø§Ø¹Ø¨ ÙˆØ³Ø· Ø¥ÙŠØ·Ø§Ù„ÙŠ Ù…Ù…ÙŠØ²ØŒ ÙŠÙ…ØªØ§Ø² Ø¨Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¶ØºØ· ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù„Ø¹Ø¨."
}, {
    id: "reus",
    name_ar: "Ù…Ø§Ø±ÙƒÙˆ Ø±ÙˆÙŠØ³",
    name_en: "Marco Reus",
    country: "ğŸ‡©ğŸ‡ª Ø£Ù„Ù…Ø§Ù†ÙŠØ§",
    club: "Ø¨ÙˆØ±ÙˆØ³ÙŠØ§ Ø¯ÙˆØ±ØªÙ…ÙˆÙ†Ø¯",
    pos: "wing",
    img: "https://upload.wikimedia.org/wikipedia/commons/9/92/Marco_Reus_2014.jpg",
    basic: {
        goals: 170,
        assists: 110
    },
    matches: 430,
    trophies: 6,
    rating: 8.6,
    advanced: {
        xG: 0.34,
        keyPasses: 2.0,
        dribblesPG: 2.3,
        passAcc: "82%",
        shotAcc: "50%"
    },
    awards: ["Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ Ø£Ù„Ù…Ø§Ù†ÙŠ 2012"],
    history: [{
        team: "Borussia MÃ¶nchengladbach",
        from: 2009,
        to: 2012
    }, {
        team: "Borussia Dortmund",
        from: 2012,
        to: 2025
    }],
    bio: "Ø¬Ù†Ø§Ø­ Ø£Ù„Ù…Ø§Ù†ÙŠ Ø³Ø±ÙŠØ¹ ÙˆÙ…Ø§Ù‡Ø±ØŒ ÙŠÙ…ØªØ§Ø² Ø¨Ø§Ù„Ù…Ø±Ø§ÙˆØºØ§Øª ÙˆØ§Ù„ØªÙ…Ø±ÙŠØ±Ø§Øª Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©."
}, {
    id: "salah",
    name_ar: "Ù…Ø­Ù…Ø¯ ØµÙ„Ø§Ø­",
    name_en: "Mohamed Salah",
    country: "ğŸ‡ªğŸ‡¬ Ù…ØµØ±",
    club: "Ù„ÙŠÙØ±Ø¨ÙˆÙ„",
    pos: "wing",
    img: "https://upload.wikimedia.org/wikipedia/commons/c/c1/Mohamed_Salah%2C_Liverpool_FC_gegen_1._FSV_Mainz_05_%28Testspiel_23._Juli_2021%29_26.jpg",
    basic: {
        goals: 243,
        assists: 113
    },
    matches: 397,
    trophies: 7,
    rating: 9.2,
    advanced: {
        xG: 0.55,
        keyPasses: 2.3,
        dribblesPG: 3.4,
        passAcc: "82%",
        shotAcc: "58%"
    },
    awards: [
        "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ (2017ØŒ 2018)",
        "Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ù„Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (3 Ù…Ø±Ø§Øª)",
        "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (PFA) Ù…Ø±ØªÙŠÙ†",
        "Ø¬Ø§Ø¦Ø²Ø© ØµØ§Ù†Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ (2022)"
    ],
    history: [{
        team: "Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ÙˆÙ† Ø§Ù„Ø¹Ø±Ø¨",
        from: 2010,
        to: 2012
    }, {
        team: "Ø¨Ø§Ø²Ù„",
        from: 2012,
        to: 2014
    }, {
        team: "ØªØ´ÙŠÙ„Ø³ÙŠ",
        from: 2014,
        to: 2016
    }, {
        team: "ÙÙŠÙˆØ±Ù†ØªÙŠÙ†Ø§",
        from: 2015,
        to: 2015
    }, {
        team: "Ø±ÙˆÙ…Ø§",
        from: 2016,
        to: 2017
    }, {
        team: "Ù„ÙŠÙØ±Ø¨ÙˆÙ„",
        from: 2017,
        to: 2025
    }],
    bio: "Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ù…ØµØ±ÙŠØ© ÙˆØ§Ù„Ø¥ÙØ±ÙŠÙ‚ÙŠØ©ØŒ Ø£Ø­Ø¯ Ø£Ø¨Ø±Ø² Ù‡Ø¯Ø§ÙÙŠ Ù„ÙŠÙØ±Ø¨ÙˆÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠÙŠÙ†ØŒ ÙŠØªÙ…ÙŠØ² Ø¨Ø³Ø±Ø¹ØªÙ‡ ÙˆÙ…Ù‡Ø§Ø±Ø§ØªÙ‡ Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙˆÙ‚Ø¯Ø±ØªÙ‡ Ø¹Ù„Ù‰ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ÙƒØ¨Ø±Ù‰."
}, {
    id: "messi",
    name_ar: "Ù„ÙŠÙˆÙ†ÙŠÙ„ Ù…ÙŠØ³ÙŠ",
    name_en: "Lionel Messi",
    country: "ğŸ‡¦ğŸ‡· Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†",
    club: "Ù…ÙŠØ§Ù…ÙŠ Ø¥Ù†ØªØ±",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/a/ab/Leo_Messi_v_Granada_2014.jpg",
    basic: {
        goals: 877,
        assists: 391
    },
    matches: 1118,
    trophies: 45,
    rating: 9.8,
    advanced: {
        xG: 0.72,
        keyPasses: 3.4,
        dribblesPG: 2.8,
        passAcc: "89%",
        shotAcc: "60%"
    },
    awards: [
        "Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© (8 Ù…Ø±Ø§Øª)",
        "Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ (6 Ù…Ø±Ø§Øª)",
        "Ù‡Ø¯Ø§Ù Ø¨Ø±Ø´Ù„ÙˆÙ†Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ (672 Ù‡Ø¯Ù)",
        "Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø¬Ù„ ÙÙŠ Ø¹Ø§Ù… ÙˆØ§Ø­Ø¯ (91 Ù‡Ø¯Ù 2012)",
        "Ù‡Ø¯Ø§Ù Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ (112 Ù‡Ø¯Ù)"
    ],
    history: [{
        team: "Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©",
        from: 2004,
        to: 2021
    }, {
        team: "Ø¨Ø§Ø±ÙŠØ³ Ø³Ø§Ù† Ø¬ÙŠØ±Ù…Ø§Ù†",
        from: 2021,
        to: 2023
    }, {
        team: "Ù…ÙŠØ§Ù…ÙŠ Ø¥Ù†ØªØ±",
        from: 2023,
        to: 2025
    }],
    bio: "Ø£Ø³Ø·ÙˆØ±Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŒ ÙŠÙ…ØªÙ„Ùƒ Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ù‚ÙŠØ§Ø³ÙŠØ© Ù…Ø°Ù‡Ù„Ø©ØŒ ØºØ²ÙŠØ± Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØµØ§Ù†Ø¹ Ù„Ø¹Ø¨ Ù…Ø¨Ø¯Ø¹ØŒ Ø­ØµØ¯ 45 Ø¨Ø·ÙˆÙ„Ø© Ùˆ8 ÙƒØ±Ø§Øª Ø°Ù‡Ø¨ÙŠØ© ÙˆÙŠÙØ¹ØªØ¨Ø± Ù…Ù† Ø£Ø¹Ø¸Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®."
}, {
    id: "ronaldo",
    name_ar: "ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ",
    name_en: "Cristiano Ronaldo",
    country: "ğŸ‡µğŸ‡¹ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„",
    club: "Ø§Ù„Ù†ØµØ±",
    pos: "forward",
    img: "https://upload.wikimedia.org/wikipedia/commons/3/3c/Cristiano_Ronaldo.jpg",
    basic: {
        goals: 938,
        assists: 231
    },
    matches: 1270,
    trophies: 34,
    rating: 9.5,
    advanced: {
        xG: 0.75,
        keyPasses: 1.9,
        dribblesPG: 2.2,
        passAcc: "83%",
        shotAcc: "61%"
    },
    awards: [
        "Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© (5 Ù…Ø±Ø§Øª)",
        "Ø§Ù„Ø­Ø°Ø§Ø¡ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ (4 Ù…Ø±Ø§Øª)",
        "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø£ÙˆØ±ÙˆØ¨Ø§ (3 Ù…Ø±Ø§Øª)",
        "Ù‡Ø¯Ø§Ù Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ",
        "Ø£ÙƒØ«Ø± Ù„Ø§Ø¹Ø¨ ØªØ³Ø¬ÙŠÙ„Ù‹Ø§ Ø¯ÙˆÙ„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®"
    ],
    history: [{
        team: "Ø³Ø¨ÙˆØ±ØªÙŠÙ†Øº Ù„Ø´Ø¨ÙˆÙ†Ø©",
        from: 2002,
        to: 2003
    }, {
        team: "Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯",
        from: 2003,
        to: 2009
    }, {
        team: "Ø±ÙŠØ§Ù„ Ù…Ø¯Ø±ÙŠØ¯",
        from: 2009,
        to: 2018
    }, {
        team: "ÙŠÙˆÙÙ†ØªÙˆØ³",
        from: 2018,
        to: 2021
    }, {
        team: "Ù…Ø§Ù†Ø´Ø³ØªØ± ÙŠÙˆÙ†Ø§ÙŠØªØ¯",
        from: 2021,
        to: 2022
    }, {
        team: "Ø§Ù„Ù†ØµØ±",
        from: 2023,
        to: 2025
    }],
    bio: "Ø£Ø³Ø·ÙˆØ±Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ø­Ø¯ÙŠØ«Ø©ØŒ Ù‡Ø¯Ø§ÙÙŒ ØªØ§Ø±ÙŠØ®ÙŠ Ø­Ø·Ù… Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ© Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¯ÙŠØ© ÙˆØ§Ù„Ù…Ù†ØªØ®Ø¨ØŒ ÙŠÙØ¹Ø¯ Ø£Ø­Ø¯ Ø£Ø¹Ø¸Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¹Ø¨Ø± Ø§Ù„Ø¹ØµÙˆØ±."
}, {
    id: "modric",
    name_ar: "Ù„ÙˆÙƒØ§ Ù…ÙˆØ¯Ø±ÙŠØªØ´",
    name_en: "Luka ModriÄ‡",
    country: "ğŸ‡­ğŸ‡· ÙƒØ±ÙˆØ§ØªÙŠØ§",
    club: "AC Milan",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/5/55/Luka_Modri%C4%87_in_2018.jpg",
    basic: {
        goals: 75,
        assists: 117,
    },
    matches: 813,
    trophies: 28,
    rating: 9.1,
    advanced: {
        xG: 0.18,
        keyPasses: 2.5,
        dribblesPG: 1.0,
        passAcc: "88%"
    },
    awards: [
        "ÙƒØ±Ø© Ø°Ù‡Ø¨ÙŠØ© (Ballon d'Or 2018)",
        "Ø£ÙØ¶Ù„ Ù„Ø§Ø¹Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… (The Best FIFA 2018)"
    ],
    history: [{
        team: "Dinamo Zagreb",
        from: 2003,
        to: 2008
    }, {
        team: "Tottenham",
        from: 2008,
        to: 2012
    }, {
        team: "Real Madrid",
        from: 2012,
        to: 2025
    }, {
        team: "AC Milan",
        from: 2025,
        to: null
    }],
    bio: "Ù…Ø³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ø¥ÙŠÙ‚Ø§Ø¹ Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ°ÙƒÙŠ ÙÙŠ Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙˆØµÙ†Ø¹ Ø§Ù„ÙØ§Ø±Ù‚."
}, {
    id: "bernardo",
    name_ar: "Ø¨ÙŠØ±Ù†Ø§Ù†Ø¯Ùˆ Ø³ÙŠÙ„ÙØ§",
    name_en: "Bernardo Silva",
    country: "ğŸ‡µğŸ‡¹ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„",
    club: "Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ",
    pos: "mid",
    img: "https://upload.wikimedia.org/wikipedia/commons/6/63/Bernardo_Silva_2017.jpg",
    basic: {
        goals: 112,
        assists: 100,
    },
    matches: 617,
    trophies: 17,
    rating: 8.4,
    advanced: {
        keyPasses: 2.8,
        dribblesPG: 2.0,
        pressures: 3.5,
        passAcc: "88%"
    },
    awards: ["Ù…Ø±ÙˆÙ†Ø© ØªÙƒØªÙŠÙƒÙŠØ©", "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù… PFA (2019ØŒ 2022)", "ÙØ±ÙŠÙ‚ Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ (2022â€“23)"],
    history: [{
        team: "Ù…ÙˆÙ†Ø§ÙƒÙˆ",
        from: 2013,
        to: 2017
    }, {
        team: "Ù…Ø§Ù†Ø´Ø³ØªØ± Ø³ÙŠØªÙŠ",
        from: 2017,
        to: 2025
    }],
    bio: "Ù„Ø§Ø¹Ø¨ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙŠØ¶ÙŠÙ Ø§ØªØ²Ø§Ù†Ù‹Ø§ ØªÙƒØªÙŠÙƒÙŠÙ‹Ø§ Ù„Ù„ÙØ±ÙŠÙ‚ ÙˆÙŠØµÙ†Ø¹ Ø§Ù„ÙØ§Ø±Ù‚ Ø¨Ø­Ø±ÙƒØ§ØªÙ‡ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ¥Ø¨Ø¯Ø§Ø¹Ù‡ ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ù…Ù„Ø¹Ø¨."
}, ];

let state = {
    pro: false,
    theme: "dark",
    query: "",
    posFilter: "all",
    countryFilter: "all"
};

// DOM refs (players)
const grid = document.getElementById('grid');
const count = document.getElementById('count');
const searchInput = document.getElementById('search');
const posSelect = document.getElementById('posFilter');
const countrySelect = document.getElementById('countryFilter');
const proBtn = document.getElementById('proBtn');
const themeBtn = document.getElementById('themeBtn');
const overlay = document.getElementById('overlay');
const overlayContent = document.getElementById('overlayContent');
const overlayClose = document.getElementById('overlayClose');

function esc(s) {
    return String(s).replace(/[&<>"']/g, c => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
    }[c]));
}

function translatePos(pos) {
    const map = {
        forward: "Ù…Ù‡Ø§Ø¬Ù…",
        wing: "Ø¬Ù†Ø§Ø­",
        mid: "ÙˆØ³Ø·",
        def: "Ù…Ø¯Ø§ÙØ¹",
        gk: "Ø­Ø§Ø±Ø³"
    };
    return map[pos] || pos;
}

function renderCard(player) {
    const card = document.createElement('article');
    card.className = "card player-card";
    card.dataset.id = player.id;
    card.innerHTML = `
        <div class="head">
            ${player.img ? `<img class="thumb" src="${esc(player.img)}" alt="${esc(player.name_ar)}" loading="lazy" />` : `<div class="thumb-empty">ØµÙˆØ±Ø©</div>`}
        </div>
        <div class="card-body">
            <h3 class="player-name name-ar">${esc(player.name_ar)}</h3>
            <div class="name-en">${esc(player.name_en)}</div>
            <div class="meta">
                <div class="chip">${player.country}</div>
                <div class="chip">${translatePos(player.pos)}</div>
            </div>
            <div class="card-footer">
                <button class="btn-small view-btn">ØªÙØ§ØµÙŠÙ„</button>
            </div>
        </div>
    `;
    card.querySelector('.view-btn').addEventListener('click', (e) => {
        e.stopPropagation();
        openDetail(player.id, {
            pushState: true
        });
    });
    // Removed the general card click event
    // card.addEventListener('click', (e) => {
    //     if (e.target.closest('button')) return;
    //     openDetail(player.id, { pushState: true });
    // });
    return card;
}

function renderGrid() {
    if (!grid) return;
    grid.innerHTML = "";
    const q = state.query.trim().toLowerCase();
    const pos = state.posFilter;
    const country = state.countryFilter;
    const uniquePlayers = getUniquePlayers(PLAYERS);
    let items = uniquePlayers.filter(p => {
        const matchesQ = !q || p.name_ar.toLowerCase().includes(q) || p.name_en.toLowerCase().includes(q) || p.club.toLowerCase().includes(q);
        const matchesPos = pos === 'all' || p.pos === pos;
        const matchesCountry = country === 'all' || p.country === country;
        return matchesQ && matchesPos && matchesCountry;
    });
    count.textContent = ` ${items.length} `;
    items.forEach(p => grid.appendChild(renderCard(p)));
    if (items.length === 0) {
        const empty = document.createElement('div');
        empty.style.padding = '36px';
        empty.style.textAlign = 'center';
        empty.innerHTML = `<div style="color:var(--muted-2); font-weight:900">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</div>`;
        grid.appendChild(empty);
    }
}

function getUniquePlayers(players) {
    const uniqueIds = new Set();
    return players.filter(player => {
        if (!uniqueIds.has(player.id)) {
            uniqueIds.add(player.id);
            return true;
        }
        return false;
    });
}

function renderStars(rating) {
    const s = Math.round((rating / 10) * 5 * 2) / 2;
    const full = Math.floor(s);
    const half = (s - full) >= 0.5 ? 1 : 0;
    const empty = 5 - full - half;
    let out = '';
    for (let i = 0; i < full; i++) out += '<span class="star">â˜…</span>';
    if (half) out += '<span class="star">â˜†</span>';
    for (let i = 0; i < empty; i++) out += '<span class="star" style="opacity:.25">â˜…</span>';
    return out;
}

function renderDetail(player, {
    pro = false
} = {}) {
    if (!player) return `<div style="text-align:center;color:var(--muted-2);font-weight:700">Ø§Ù„Ù„Ø§Ø¹Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</div>`;
    const awardsHtml = (player.awards && player.awards.length) ? `<ul>${player.awards.map(a => `<li>${esc(a)}</li>`).join('')}</ul>` : `<div class="tiny muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬ÙˆØ§Ø¦Ø² Ù…ÙØµÙ„Ø©</div>`;
    let historyHtml = `<div style="display:flex;flex-direction:column;gap:6px">`;
    if (player.history && player.history.length) {
        player.history.forEach(h => {
            historyHtml += `<div style="display:flex;justify-content:space-between;align-items:center;padding:6px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border-radius:6px">
 <div style="font-weight:800">${esc(h.team)}</div>
 <div style="font-size:.85rem;color:var(--muted-2)">${h.from} â€” ${h.to}</div>
 </div>`;
        });
    }
    historyHtml += `</div>`;
    let advancedHtml = '';
    if (pro && player.advanced) {
        advancedHtml = `<div>
 <h4 class="tiny muted">ğŸ”¬ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h4>
 <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:8px">
 ${Object.entries(player.advanced).map(([k, v]) => `
 <div style="background:linear-gradient(90deg,#2b2b4d,#1f1f3a);padding:8px;border-radius:8px;border:var(--glass-border);">
 <div style="font-weight:900;color:var(--neon-1)">${esc(String(v))}</div>
 <div style="font-size:.78rem;color:var(--muted-2);margin-top:6px">${esc(k)}</div>
 </div>`).join('')}
 </div>
 </div>`;
    }
    return `
 <div style="display:flex;flex-direction:column;gap:10px">
 <div style="display:flex;justify-content:space-between;align-items:center">
 <div class="photo">
 ${player.img ? `<img src="${esc(player.img)}" alt="${esc(player.name_ar)}">` : `<div class="photo-empty">ØµÙˆØ±Ø©</div>`}
 </div>
 <div>
 <h2>${esc(player.name_ar)} <div style="font-size:.9rem;color:var(--muted-2);font-weight:800">${esc(player.name_en)}</div></h2>
 <div style="margin-top:6px;display:flex;gap:6px;flex-wrap:wrap">
 <div class="chip">${player.country}</div>
 <div class="chip">${player.club}</div>
 <div class="chip">${translatePos(player.pos)}</div>
 </div>
 <div style="margin-top:8px;font-weight:900;color:var(--neon-1)"><span class="stars" style="margin-left:8px">${renderStars(player.rating)}</span></div>
 </div>
 </div>
 <button class="action print-card" data-player-id="${esc(player.id)}">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</button>
 <div>
 <h4 class="tiny muted">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø£Ø³Ø§Ø³ÙŠØ©</h4>
 <div class="big-stats">
 <div class="stat-card"><div class="num">${player.basic.goals}</div><div class="lbl">Ø£Ù‡Ø¯Ø§Ù</div></div>
 <div class="stat-card"><div class="num">${player.basic.assists}</div><div class="lbl">ØªÙ…Ø±ÙŠØ±Ø§Øª</div></div>
 <div class="stat-card"><div class="num">${player.matches}</div><div class="lbl">Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div></div>
 </div>
 </div>
 ${advancedHtml}
 <div>
 <h4 class="tiny muted">ğŸ† Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</h4>
 <div class="awards">${awardsHtml}</div>
 </div>
 <div>
 <h4 class="tiny muted">ğŸ§¾ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£Ù†Ø¯ÙŠØ©</h4>
 ${historyHtml}
 </div>
 <div>
 <h4 class="tiny muted">ğŸ“ Ù†Ø¨Ø°Ø©</h4>
 <div class="bio">${esc(player.bio)}</div>
 </div>
 </div>
 `;
}

function openDetail(id, {
    pushState = false
} = {}) {
    const player = PLAYERS.find(p => p.id === id);
    if (!player) {
        const content = `<div style="text-align:center; color:var(--muted-2); font-weight:700; padding:20px;">Ø§Ù„Ù„Ø§Ø¹Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.</div>`;
        overlayContent.innerHTML = content;
        overlay.classList.add('show');
        overlay.setAttribute('aria-hidden', 'false');
        return;
    }
    const html = renderDetail(player, {
        pro: state.pro
    });
    overlayContent.innerHTML = html;
    overlay.classList.add('show');
    overlay.setAttribute('aria-hidden', 'false');
    // Add event listeners after content is rendered
    const container = overlayContent;
    const printBtn = container.querySelector('.print-card');
    if (printBtn) printBtn.addEventListener('click', () => printPlayerCard(player));
    const url = new URL(window.location.href);
    url.searchParams.set('player', id);
    if (pushState) history.pushState({
        player: id
    }, '', url);
    else history.replaceState({
        player: id
    }, '', url);
}

function closeOverlay() {
    overlay.classList.remove('show');
    overlay.setAttribute('aria-hidden', 'true');
    overlayContent.innerHTML = '';
}

function exportPlayerJSON(player) {
    const blob = new Blob([JSON.stringify(player, null, 2)], {
        type: 'application/json'
    });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${player.id}.json`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
}

function printPlayerCard(player) {
    const w = window.open('', '_blank');
    const html = `
 <html>
 <head><title>Ø¨Ø·Ø§Ù‚Ø© ${esc(player.name_ar)}</title>
 <style>
 body{font-family:Tahoma,Arial;background:#fff;color:#000;padding:18px}
 .card{border:1px solid #222;padding:12px;border-radius:8px;max-width:400px}
 h2{margin:0}
 </style>
 </head>
 <body>
 <div class="card">
 <h2>${esc(player.name_ar)} â€” ${esc(player.name_en)}</h2>
 ${player.img ? `<img src="${esc(player.img)}" style="width:100%;border-radius:8px;margin-top:8px"/>` : `<div style="width:100px;height:100px;background:#eee;border-radius:8px;margin:8px auto;display:flex;align-items:center;justify-content:center">ØµÙˆØ±Ø©</div>`}
 <p>Ø§Ù„Ù†Ø§Ø¯ÙŠ: ${esc(player.club)}</p>
 <p>Ø§Ù„Ø¯ÙˆÙ„Ø©: ${esc(player.country)}</p>
 <p>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù: ${player.basic.goals} â€” Ø§Ù„ØªÙ…Ø±ÙŠØ±Ø§Øª: ${player.basic.assists}</p>
 </div>
 </body>
 </html>
 `;
    w.document.write(html);
    w.document.close();
    w.print();
}

// Events (players)
if (searchInput) searchInput.addEventListener('input', (e) => {
    state.query = e.target.value;
    renderGrid();
});

// Fix for select elements
const selects = document.querySelectorAll('.select');
selects.forEach(select => {
    select.addEventListener('focus', () => {
        select.classList.add('active-select');
    });
    select.addEventListener('blur', () => {
        select.classList.remove('active-select');
    });
});

if (posSelect) posSelect.addEventListener('change', (e) => {
    state.posFilter = e.target.value;
    renderGrid();
});
if (countrySelect) countrySelect.addEventListener('change', (e) => {
    state.countryFilter = e.target.value;
    renderGrid();
});
if (proBtn) proBtn.addEventListener('click', () => {
    state.pro = !state.pro;
    proBtn.classList.toggle('active', state.pro);
    renderGrid();
    const params = new URLSearchParams(window.location.search);
    const pid = params.get('player');
    if (pid) openDetail(pid, {
        pushState: false
    });
});
if (themeBtn) themeBtn.addEventListener('click', () => {
    document.body.classList.toggle('light');
    themeBtn.classList.toggle('active');
    state.theme = state.theme === 'dark' ? 'light' : 'dark';
});
if (overlayClose) overlayClose.addEventListener('click', () => {
    closeOverlay();
    const url = new URL(window.location.href);
    url.searchParams.delete('player');
    history.pushState({}, '', url);
});
window.addEventListener('popstate', (e) => {
    const params = new URLSearchParams(window.location.search);
    const pid = params.get('player');
    if (pid) openDetail(pid, {
        pushState: false
    });
    else {
        closeOverlay();
    }
});

function initPlayers() {
    const params = new URLSearchParams(window.location.search);
    const pid = params.get('player');
    if (pid) {
        document.querySelector(`.nav-link[data-target="playersPage"]`).click();
        openDetail(pid, {
            pushState: false
        });
    } else {
        renderGrid();
    }
}

document.addEventListener('DOMContentLoaded', () => {
    initPlayers();
});

window.TOP_GOAL = {
    PLAYERS,
    renderGrid,
    openDetail,
    exportPlayerJSON,
    printPlayerCard
};


// Function to show a temporary toast notification
function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.textContent = message;
    document.body.appendChild(toast);

    // Animate the toast in
    setTimeout(() => {
        toast.style.transform = 'translateY(-10px)';
        toast.style.opacity = '1';
    }, 10);

    // Animate the toast out and remove it
    setTimeout(() => {
        toast.style.transform = 'translateY(-60px)';
        toast.style.opacity = '0';
        toast.addEventListener('transitionend', () => {
            toast.remove();
        });
    }, 2500); // Display for 2.5 seconds
}


// ===== Chat toggle - UPDATED to show toast notification =====
const chatToggleBtn = document.getElementById('chat-toggle-btn');
const chatModal = document.getElementById('chat-modal');
const chatCloseBtn = document.getElementById('chat-close-btn');

chatToggleBtn.addEventListener('click', () => {
    // Show toast notification instead of opening the chat modal
    showToast('Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±....ğŸŒ¹');
});

// This part is now redundant but kept for consistency, as the modal won't open
chatCloseBtn.addEventListener('click', () => {
    chatModal.classList.add('hidden');
});

// This part is also redundant now
document.addEventListener('click', (e) => {
    if (!chatModal.contains(e.target) && e.target !== chatToggleBtn) {
        chatModal.classList.add('hidden');
    }
});
// ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ù†Ø§ØµØ±
const aiLink = document.querySelector('.ai-link');
const aiPage = document.getElementById('ai-page');
const aiCloseBtn = document.getElementById('ai-close-btn');

// Ø­Ø¯Ø« Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± AI
aiLink.addEventListener('click', (e) => {
    e.preventDefault();
    aiPage.classList.remove('hidden');
    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
    setTimeout(() => {
        aiPage.classList.add('visible');
    }, 10);
});

// Ø­Ø¯Ø« Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
aiCloseBtn.addEventListener('click', () => {
    aiPage.classList.remove('visible');
    // Ø¥Ø²Ø§Ù„Ø© ÙØ¦Ø© 'hidden' Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
    setTimeout(() => {
        aiPage.classList.add('hidden');
    }, 300); // ÙŠØ¬Ø¨ Ø£Ù† ØªØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ù…Ø¯Ø© Ù…Ø¹ Ù…Ø¯Ø© Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ ÙÙŠ CSS
});
</script>
</body>
</html>